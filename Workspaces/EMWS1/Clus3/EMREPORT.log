*------------------------------------------------------------*
* Report Log
Date:                September 27, 2020
Time:                13:38:40
*------------------------------------------------------------*
12073  data WORK.M01B3BBF;
12074  set WORK.M01B3BBF;
12075  if role eq 'REJECTED' then role = 'INPUT';
12076  run;

NOTE: There were 4 observations read from the data set WORK.M01B3BBF.
NOTE: The data set WORK.M01B3BBF has 4 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12077  data WORK.M01B3BBF;
12078  set WORK.M01B3BBF end=_eof_ nobs=_nobs_;
12079  output;
12080  if _eof_ then do;
12081  name = '_SEGMENT_';
12082  ROLE = 'TARGET';
12083  LEVEL = 'NOMINAL';
12084  LABEL = 'Segment Variable';
12085  TYPE = 'N';
12086  FORMAT = '';
12087  INFORMAT = '';
12088  USE='Y';
12089  output;
12090  end;
12091  run;

NOTE: There were 4 observations read from the data set WORK.M01B3BBF.
NOTE: The data set WORK.M01B3BBF has 5 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12092  *------------------------------------------------------------*;
12093  * Clus3: Create decision matrix;
12094  *------------------------------------------------------------*;
12095  *------------------------------------------------------------* ;
12096  * Clus3: Tree Variables Macro ;
12097  *------------------------------------------------------------* ;
12098  %macro EM_TREEVARS;
12099      Age Career Education Marital_Statues
12100  %mend EM_TREEVARS;
12101  *------------------------------------------------------------* ;
12102  * Clus3: Tree Targets Macro ;
12103  *------------------------------------------------------------* ;
12104  %macro EM_TREETARGETS;
12105      _SEGMENT_
12106  %mend EM_TREETARGETS;
12107  data EMWS1.EM_Clus3 / view=EMWS1.EM_Clus3;
12108  set EMWS1.Clus3_TRAIN(keep=%EM_TREEVARS %EM_TREETARGETS);
12109  run;

NOTE: DATA STEP view saved on file EMWS1.EM_CLUS3.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS3_TRAIN.VIEW used (Total process time):
      real time           0.08 seconds
      cpu time            0.07 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.11 seconds
      

12110  *------------------------------------------------------------* ;
12111  * Clus3: Interval Inputs Macro ;
12112  *------------------------------------------------------------* ;
12113  %macro INTINPUTS;
12114      Age
12115  %mend INTINPUTS;
12116  *------------------------------------------------------------* ;
12117  * Clus3: Binary and Nominal Inputs Macro ;
12118  *------------------------------------------------------------* ;
12119  %macro NOMINPUTS;
12120      Career Education Marital_Statues
12121  %mend NOMINPUTS;
12122  *------------------------------------------------------------* ;
12123  * Clus3: Ordinal Inputs Macro ;
12124  *------------------------------------------------------------* ;
12125  %macro ORDINPUTS;
12126  
12127  %mend ORDINPUTS;
12128  *------------------------------------------------------------*;
12129  * Clus3: Run ARBOR procedure;
12130  *------------------------------------------------------------*;

12131  proc arbor data=EMWS1.EM_Clus3
12132  MAXSURRS=3
12133  ;
12134  ;
12135  input %INTINPUTS
12136  / level = interval;
12137  input %NOMINPUTS
12138  / level=nominal;
12139  target _SEGMENT_ / level=NOMINAL
12140  Criterion=PROBCHISQ
12141  ;
12142  ;
12143  Performance DISK
12144  ;
12145  MAKEMACRO NLEAVES=nleaves;
NOTE: 1438792 kilobytes of physical memory.
NOTE: Will use 4258 out of 4258 training cases.
NOTE: Using memory pool with 79741952 bytes.
NOTE: Passed training data 17 times.
NOTE: Training used 585424 bytes of work memory.
NOTE: The subtree sequence contains 11 subtrees. The largest has 21 nodes and 11 leaves.
NOTE: Using subtree with 15 nodes and 8 leaves.
NOTE: Created macro variable NLEAVES equal to 8.
12146  save
12147  MODEL=EMWS1.Clus3_PLOTDS
12148  SEQUENCE=EMWS1.Clus3_OUTSEQ
12149  IMPORTANCE=EMWS1.Clus3_OUTIMPORT
12150  NODESTAT=EMWS1.Clus3_OUTNODES
12151  SUMMARY=WORK.OUTSUMMARY_TREE_0T1UXDR
12152  STATSBYNODE=WORK.OUTSTATS_TREE_0T1UXDR
12153  Pathlistnonmissing = WORK.OUTPATH_TREE_0T1UXDR
12154  Rules = WORK.OUTRULES_TREE_0T1UXDR
12155  ;
NOTE: The data set EMWS1.CLUS3_OUTIMPORT has 4 observations and 5 variables.
NOTE: The data set EMWS1.CLUS3_PLOTDS has 950 observations and 4 variables.
NOTE: The data set EMWS1.CLUS3_OUTNODES has 15 observations and 26 variables.
NOTE: The data set WORK.OUTPATH_TREE_0T1UXDR has 54 observations and 7 variables.
NOTE: The data set WORK.OUTRULES_TREE_0T1UXDR has 305 observations and 6 variables.
NOTE: The data set EMWS1.CLUS3_OUTSEQ has 11 observations and 11 variables.
NOTE: The data set WORK.OUTSTATS_TREE_0T1UXDR has 105 observations and 5 variables.
NOTE: The data set WORK.OUTSUMMARY_TREE_0T1UXDR has 24 observations and 8 variables.
12156  run;

12157  quit;

NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT_TRAIN.
NOTE: There were 4258 observations read from the data set EMWS1.FILTER_TRAIN.
NOTE: View EMWS1.EM_CLUS3.VIEW used (Total process time):
      real time           0.35 seconds
      cpu time            0.34 seconds
      
NOTE: There were 4258 observations read from the data set EMWS1.CLUS3_TRAIN.
NOTE: There were 4258 observations read from the data set EMWS1.EM_CLUS3.
NOTE: The data set WORK._NAMEDAT has 5 observations and 5 variables.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.36 seconds
      cpu time            0.35 seconds
      

12158  data EMWS1.Clus3_OUTIMPORT;
12159  set EMWS1.Clus3_OUTIMPORT;
12160  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel, noquote))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, noquote))" NRULES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nrules_vlabel, noquote))" IMPORTANCE =
12161     "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel, noquote))" NSURROGATES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nsurrogates_vlabel, noquote))"
12162  ;
12163  run;

NOTE: There were 4 observations read from the data set EMWS1.CLUS3_OUTIMPORT.
NOTE: The data set EMWS1.CLUS3_OUTIMPORT has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12164  filename x "C:\Users\20161277\Documents\CA assign 2 data\20161277_CAassignment2\Workspaces\EMWS1\Clus3\ENGLISHRULES.txt" encoding='utf-8' NOBOM;

12165  data temp;
12166  length varname $15;
12167  retain varname;
12168  set WORK.OUTPATH_TREE_0T1UXDR;
12169  if ^missing(variable) then varname=variable;
12170  else if ^missing(var_name) then varname=var_name;
12171  output;
12172  run;

NOTE: There were 54 observations read from the data set WORK.OUTPATH_TREE_0T1UXDR.
NOTE: The data set WORK.TEMP has 54 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12173  proc sort data=temp;
12174  by node;
12175  run;

NOTE: There were 54 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 54 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12176  proc sort data=EMWS1.Clus3_OUTNODES out=outnodes;
12177  by node;
12178  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_OUTNODES.
NOTE: The data set WORK.OUTNODES has 15 observations and 26 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12179  data temp;
12180  merge temp(in=_a) outnodes(keep= node
12181  NPRIORS
12182  P__SEGMENT_4
12183  P__SEGMENT_2
12184  P__SEGMENT_5
12185  P__SEGMENT_3
12186  P__SEGMENT_1
12187  );
12188  by node;
12189  if _a;
12190  run;

NOTE: There were 54 observations read from the data set WORK.TEMP.
NOTE: There were 15 observations read from the data set WORK.OUTNODES.
NOTE: The data set WORK.TEMP has 54 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12191  proc sort data=temp;
12192  by node descending varname descending numeric_value;
12193  run;

NOTE: There were 54 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 54 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12194  data _null_;
12195  file x;
12196  set temp;
12197  by node descending varname;
12198  retain origvar oldnode string;
12199  length origvar $32 oldnode 8 string $200;
12200  if _n_ = 1 then do;
12201  origvar = varname;
12202  oldnode = node;
12203  end;
12204  if first.node then do;
12205  put "&EM_CODEBAR";
12206  put " Node = " node;
12207  put "&EM_CODEBAR";
12208  end;
12209  if first.varname then do;
12210  if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
12211  if MISSING(CHARACTER_VALUE) then do;
12212  if NUMERIC_VALUE ne . then do;
12213  if ^first.node then do;
12214  string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
12215  end;
12216  else do;
12217  string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
12218  end;
12219  end;
12220  end;
12221  else do;
12222  if ^first.node then do;
12223  string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
12224  end;
12225  else do;
12226  string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
12227  end;
12228  end;
12229  end;
12230  else if RELATION in ("=") then do;
12231  if ^first.node then do;
12232  string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
12233  end;
12234  else do;
12235  string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
12236  end;
12237  end;
12238  else if RELATION in ("ISMISSING") then do;
12239  if ^first.node then do;
12240  string = " AND "|| strip(varname) || " equals Missing";
12241  end;
12242  else do;
12243  string = "if "|| strip(varname) ||" equals Missing";
12244  end;
12245  end;
12246  else if RELATION in ("ISNOTMISSING") then do;
12247  if ^first.node then do;
12248  string = " AND "|| strip(varname) || " equals All Values";
12249  end;
12250  else do;
12251  string = "if "|| strip(varname) ||" equals All Values";
12252  end;
12253  end;
12254  if ^missing(varname) then origvar = varname;
12255  oldnode=node;
12256  end;
12257  else do;
12258  if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
12259  if MISSING(CHARACTER_VALUE) then do;
12260  if NUMERIC_VALUE ne . then do;
12261  if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
12262  else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
12263  end;
12264  end;
12265  else do;
12266  if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
12267  else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
12268  end;
12269  end;
12270  else if RELATION in ("=") then do;
12271  string = strip(string)||", "||strip(character_value);
12272  end;
12273  else if RELATION in ("ISMISSING") then do;
12274  end;
12275  if ^missing(varname) then origvar = varname;
12276  oldnode=node;
12277  end;
12278  if last.varname then do;
12279  if RELATION in ("ISMISSING") then do;
12280  if ^first.varname then do;
12281  string = strip(string) || " or MISSING";
12282  end;
12283  end;
12284  put string;
12285  if ^missing(varname) then origvar = varname;
12286  oldnode=node;
12287  end;
12288  if last.node then do;
12289  put "then ";
12290  put " Tree Node Identifier   = " node;
12291  put " Number of Observations = " NPRIORS;
12292  put " Predicted: _SEGMENT_=4  = " P__SEGMENT_4;
12293  put " Predicted: _SEGMENT_=2  = " P__SEGMENT_2;
12294  put " Predicted: _SEGMENT_=5  = " P__SEGMENT_5;
12295  put " Predicted: _SEGMENT_=3  = " P__SEGMENT_3;
12296  put " Predicted: _SEGMENT_=1  = " P__SEGMENT_1;
12297  put " ";
12298  if ^missing(varname) then origvar = varname;
12299  oldnode=node;
12300  end;
12301  run;

NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      12214:67    12217:66    12261:108   12262:72    
NOTE: The file X is:
      Filename=C:\Users\20161277\Documents\CA assign 2 data\20161277_CAassignment2\Workspaces\EMWS1\Clus3\ENGLISHRULES.txt,
      RECFM=V,LRECL=131068,File Size (bytes)=0,
      Last Modified=27Sep2020:13:38:41,
      Create Time=23Sep2020:11:14:10

NOTE: 118 records were written to the file X.
      The minimum record length was 1.
      The maximum record length was 124.
NOTE: There were 54 observations read from the data set WORK.TEMP.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12302  filename x;
NOTE: Fileref X has been deassigned.

12303  /* belowtext */
12304  data templabel;
12305  set WORK.OUTRULES_TREE_0T1UXDR;
12306  if ((ROLE="PRIMARY") AND (STAT ="LABEL"));
12307  rename character_value = belowtext;
12308  keep NODE character_value;
12309  run;

NOTE: There were 305 observations read from the data set WORK.OUTRULES_TREE_0T1UXDR.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12310  data tempvar;
12311  set WORK.OUTRULES_TREE_0T1UXDR;
12312  if ((ROLE="PRIMARY") AND (STAT="VARIABLE"));
12313  keep NODE character_value;
12314  run;

NOTE: There were 305 observations read from the data set WORK.OUTRULES_TREE_0T1UXDR.
NOTE: The data set WORK.TEMPVAR has 7 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12315  proc sort data=templabel;
12316  by node;
12317  run;

NOTE: Input data set is empty.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12318  proc sort data=tempvar;
12319  by node;
12320  run;

NOTE: There were 7 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12321  data tempbelow;
12322  merge templabel tempvar;
12323  by node;
12324  if missing(belowtext) then belowtext= character_value;
12325  keep node belowtext;
12326  run;

NOTE: There were 0 observations read from the data set WORK.TEMPLABEL.
NOTE: There were 7 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPBELOW has 7 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12327  proc sort data=tempbelow;
12328  by node;
12329  run;

NOTE: There were 7 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.TEMPBELOW has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12330  /* abovetext */
12331  data tempoutrules;
12332  set WORK.OUTRULES_TREE_0T1UXDR;
12333  if ((ROLE='PRIMARY') AND(STAT in ("INTERVAL", "ORDINAL", "NOMINAL")));
12334  run;

NOTE: There were 305 observations read from the data set WORK.OUTRULES_TREE_0T1UXDR.
NOTE: The data set WORK.TEMPOUTRULES has 20 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12335  proc sort data=tempoutrules;
12336  by node numeric_value;
12337  run;

NOTE: There were 20 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPOUTRULES has 20 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12338  data tempabove;
12339  set tempoutrules(rename=(node=parent));
12340  by parent numeric_value;
12341  retain abovetext tempstring flag branch origval origchar;
12342  *length abovetext tempstring origchar $45;
12343  length abovetext $256;
12344  length tempstring origchar $64;
12345  if STAT in ("INTERVAL", "ORDINAL") then do;
12346  if first.parent then do;
12347  if missing(character_value) then do;
12348  numeric_value = round(numeric_value, 0.0001);
12349  abovetext = "< "||strip(NUMERIC_VALUE);
12350  branch = 1;
12351  origval = numeric_value;
12352  output;
12353  end;
12354  else do;
12355  abovetext = "< "||strip(CHARACTER_VALUE);
12356  branch = 1;
12357  origchar = character_value;
12358  output;
12359  end;
12360  if first.parent AND last.parent then do;
12361  if missing(character_value) then do;
12362  numeric_value = round(numeric_value, 0.0001);
12363  branch = branch + 1;
12364  abovetext = ">= "||strip(NUMERIC_VALUE);
12365  output;
12366  end;
12367  else do;
12368  branch = branch + 1;
12369  abovetext = ">= "||strip(CHARACTER_VALUE);
12370  output;
12371  end;
12372  end;
12373  end;
12374  else if last.parent then do;
12375  if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
12376  if missing(character_value) then do;
12377  numeric_value = round(numeric_value, 0.0001);
12378  abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
12379  end;
12380  else do;
12381  abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
12382  end;
12383  branch = branch + 1;
12384  output;
12385  if missing(character_value) then do;
12386  numeric_value = round(numeric_value, 0.0001);
12387  abovetext = ">= "||strip(NUMERIC_VALUE);
12388  end;
12389  else do;
12390  abovetext = ">= "||strip(CHARACTER_VALUE);
12391  end;
12392  branch = branch + 1;
12393  output;
12394  end;
12395  else do;
12396  if missing(character_value) then do;
12397  numeric_value = round(numeric_value, 0.0001);
12398  abovetext = ">= "||strip(NUMERIC_VALUE);
12399  end;
12400  else do;
12401  abovetext = ">= "||strip(CHARACTER_VALUE);
12402  end;
12403  branch = branch + 1;
12404  output;
12405  end;
12406  end;
12407  else do;
12408  if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
12409  if missing(character_value) then do;
12410  numeric_value = round(numeric_value,0.0001);
12411  abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
12412  origval = numeric_value;
12413  end;
12414  else do;
12415  abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
12416  origchar = character_value;
12417  end;
12418  branch = branch + 1;
12419  output;
12420  end;
12421  else do;
12422  if missing(character_value) then do;
12423  numeric_value = round(numeric_value, 0.0001);
12424  abovetext = ">= "||strip(NUMERIC_VALUE);
12425  origval = numeric_value;
12426  end;
12427  else do;
12428  abovetext = ">= "||strip(CHARACTER_VALUE);
12429  origval = character_value;
12430  end;
12431  branch = branch + 1;
12432  output;
12433  end;
12434  end;
12435  end;
12436  else do;
12437  if first.numeric_value then do;
12438  flag = 0;
12439  abovetext = CHARACTER_VALUE;
12440  branch = numeric_value;
12441  if first.numeric_value AND last.numeric_value then do;
12442  output;
12443  end;
12444  end;
12445  else if last.numeric_value then do;
12446  if flag=0 then do;
12447  tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
12448  length = length(strip(tempstring));
12449  if length < 32 then do;
12450  abovetext = strip(tempstring);
12451  end;
12452  else do;
12453  abovetext = strip(abovetext)||", ...";
12454  flag = 1;
12455  end;
12456  end;
12457  branch = numeric_value;
12458  output;
12459  end;
12460  else do;
12461  if flag=0 then do;
12462  tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
12463  length = length(strip(tempstring));
12464  if length < 32 then do;
12465  abovetext = strip(tempstring);
12466  end;
12467  else do;
12468  abovetext = strip(abovetext)||", ...";
12469  flag=1;
12470  end;
12471  end;
12472  branch = numeric_value;
12473  end;
12474  end;
12475  keep parent branch abovetext;
12476  run;

NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      12349:25   12364:26   12378:24   12378:47   12387:26   12398:26   12411:24   12411:47   12424:26   
NOTE: Character values have been converted to numeric values at the places given by: (Line):(Column).
      12429:11   
NOTE: There were 20 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPABOVE has 13 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12477  /* MIssing value to abovetext */
12478  data tempmissing;
12479  set WORK.OUTRULES_TREE_0T1UXDR;
12480  if ((ROLE="PRIMARY") AND (STAT in ("MISSING")));
12481  rename node=parent numeric_value=branch character_value=misschar;
12482  run;

NOTE: There were 305 observations read from the data set WORK.OUTRULES_TREE_0T1UXDR.
NOTE: The data set WORK.TEMPMISSING has 7 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12483  proc sort data=work.tempabove;
12484  by parent branch;
12485  run;

NOTE: There were 13 observations read from the data set WORK.TEMPABOVE.
NOTE: The data set WORK.TEMPABOVE has 13 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12486  proc sort data=EMWS1.Clus3_OUTNODES out=tempoutnodes;
12487  by parent branch;
12488  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_OUTNODES.
NOTE: The data set WORK.TEMPOUTNODES has 15 observations and 26 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12489  proc sort data=tempmissing;
12490  by parent branch;
12491  run;

NOTE: There were 7 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.TEMPMISSING has 7 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12492  data WORK.Clus3_outnodes;
12493  merge work.tempabove tempoutNodes(drop=abovetext ) tempmissing(in=_a);
12494  by parent branch;
12495  length traintotal validtotal 8;
12496  retain traintotal validtotal;
12497  if _a then do;
12498  if ^MISSING(abovetext) then do;
12499  abovetext= strip(abovetext)||" %sysfunc(sasmsg(sashelp.dmine, tree_ormiss_vlabel, noquote))";
12500  end;
12501  else do;
12502  abovetext = " %sysfunc(sasmsg(sashelp.dmine, tree_missonly_vlabel, noquote))";
12503  end;
12504  end;
12505  if MISSING(abovetext) then abovetext="%sysfunc(sasmsg(sashelp.dmine, tree_nonmiss_vlabel, noquote))";
12506  if node=1 then do;
12507  traintotal = N;
12508  validtotal=VN;
12509  end;
12510  label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
12511  drop role rank stat misschar belowtext;
12512  run;

NOTE: Variable VN is uninitialized.
NOTE: There were 13 observations read from the data set WORK.TEMPABOVE.
NOTE: There were 15 observations read from the data set WORK.TEMPOUTNODES.
NOTE: There were 7 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.CLUS3_OUTNODES has 15 observations and 28 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12513  proc sort data=WORK.Clus3_outnodes;
12514  by node;
12515  run;

NOTE: There were 15 observations read from the data set WORK.CLUS3_OUTNODES.
NOTE: The data set WORK.CLUS3_OUTNODES has 15 observations and 28 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12516  proc sort data=tempbelow;
12517  by node;
12518  run;

NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12519  data WORK.Clus3_outnodes;
12520  merge WORK.Clus3_outnodes tempbelow;
12521  by node;
12522  run;

NOTE: There were 15 observations read from the data set WORK.CLUS3_OUTNODES.
NOTE: There were 7 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.CLUS3_OUTNODES has 15 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT_TRAIN.
NOTE: There were 4258 observations read from the data set EMWS1.FILTER_TRAIN.
NOTE: View EMWS1.EM_CLUS3.VIEW used (Total process time):
      real time           0.20 seconds
      cpu time            0.20 seconds
      
NOTE: There were 4258 observations read from the data set EMWS1.CLUS3_TRAIN.
12523  data tempoutstats;
12524  set WORK.OUTSTATS_TREE_0T1UXDR;
12525  length tarlevel $8;
12526  tarlevel ="NOMINAL";
12527  run;

NOTE: There were 105 observations read from the data set WORK.OUTSTATS_TREE_0T1UXDR.
NOTE: The data set WORK.TEMPOUTSTATS has 105 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12528  data EMWS1.Clus3_TREE_PLOT;
12529  length NODETEXT TEXTALL $800 N NODECOLOR 8;
12530  set WORK.Clus3_outnodes;
12531  label parent = "%sysfunc(sasmsg(sashelp.dmine, rpt_parentID_vlabel, noquote))" depth = "%sysfunc(sasmsg(sashelp.dmine, rpt_depth_vlabel, noquote))" belowtext= "%sysfunc(sasmsg(sashelp.dmine, rpt_belowtext_vlabel, noquote))" abovetext =
12532     "%sysfunc(sasmsg(sashelp.dmine, rpt_abovetext_vlabel, noquote))" linkwidth = "%sysfunc(sasmsg(sashelp.dmine, rpt_linkwidth_vlabel, noquote))" nodetext = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodetext_vlabel, noquote))" textall =
12533     "%sysfunc(sasmsg(sashelp.dmine, rpt_textall_vlabel, noquote))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainn_vlabel, noquote))" nodecolor = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodecolor_vlabel, noquote))" node =
12534     "%sysfunc(sasmsg(sashelp.dmine, rpt_node_vlabel, noquote))";
12535  keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR;
12536  run;

NOTE: Variable TEXTALL is uninitialized.
NOTE: Variable NODECOLOR is uninitialized.
NOTE: There were 15 observations read from the data set WORK.CLUS3_OUTNODES.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12537  proc sort data=EMWS1.Clus3_TREE_PLOT;
12538  by node;
12539  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_TREE_PLOT.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12540  proc sort data=tempoutstats;
12541  by node;
12542  run;

NOTE: There were 105 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set WORK.TEMPOUTSTATS has 105 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12543  data EMWS1.Clus3_TREE_PLOT;
12544  merge EMWS1.Clus3_TREE_PLOT tempoutstats;
12545  length text $800 _RASE_ P__SEGMENT_4 8;
12546  retain P__SEGMENT_4 eventlevel;
12547  by node;
12548  if statname='N' then N=statvalue;
12549  if statname='NPRIORS' then N=statvalue;
12550  if statname='PREDICTION' then eventlevel=category;
12551  _RASE_ = .;
12552  if tarlevel ^= 'INTERVAL' then do;
12553  if STATNAME = 'PROBABILITY' then do;
12554  if CATEGORY=EVENTLEVEL then do;
12555  nodetext = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12556  text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12557  P__SEGMENT_4 = round(STATVALUE, .01);
12558  end;
12559  else do;
12560  text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12561  end;
12562  textall = strip(textall)||'0A'x||strip( text);
12563  end;
12564  if last.node then do;
12565  nodetext = trim(nodetext)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12566  textall = trim(textall)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12567  output EMWS1.Clus3_TREE_PLOT;
12568  end;
12569  end;
12570  else do;
12571  if statname='RASE' then _RASE_=statvalue;
12572  label _RASE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_trase_vlabel, noquote))";
12573  if STATNAME = 'PREDICTION' then do;
12574  nodetext= "%sysfunc(sasmsg(sashelp.dmine, rpt_average_vlabel, noquote))"|| put(STATVALUE, 13.4)||'0A'x|| "%sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12575  textall = nodetext;
12576  P__SEGMENT_4 = STATVALUE;
12577  ;
12578  ;
12579  end;
12580  if last.node then do;
12581  output EMWS1.Clus3_TREE_PLOT;
12582  end;
12583  ;
12584  end;
12585  label P__SEGMENT_4 = "%sysfunc(sasmsg(sashelp.dmine, rpt_predictedvar_vlabel, noquote))";
12586  keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR _RASE_ P__SEGMENT_4;
12587  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_TREE_PLOT.
NOTE: There were 105 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12588  data tempcolor;
12589  set WORK.OUTSTATS_TREE_0T1UXDR;
12590  retain eventlevel;
12591  if STATNAME='PREDICTION' then eventlevel=CATEGORY;
12592  run;

NOTE: There were 105 observations read from the data set WORK.OUTSTATS_TREE_0T1UXDR.
NOTE: The data set WORK.TEMPCOLOR has 105 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12593  data tempcolor;
12594  set tempcolor;
12595  if 'NOMINAL' ne 'INTERVAL' then do;
12596  if CATEGORY=EVENTLEVEL AND STATNAME="PROBABILITY";
12597  end;
12598  else do;
12599  if STATNAME="PREDICTION";
12600  end;
12601  run;

NOTE: There were 105 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 15 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12602  data tempcolor;
12603  set tempcolor;
12604  length nodecolor 8;
12605  if 'NOMINAL' ne 'INTERVAL' then do;
12606  nodecolor = round(100*(STATVALUE), .01);
12607  end;
12608  else do;
12609  nodecolor=round(statvalue, .01);
12610  end;
12611  keep node nodecolor;
12612  run;

NOTE: There were 15 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 15 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12613  proc sort data=EMWS1.Clus3_TREE_PLOT;
12614  by node;
12615  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_TREE_PLOT.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12616  proc sort data=tempcolor;
12617  by node;
12618  run;

NOTE: There were 15 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 15 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12619  data EMWS1.Clus3_TREE_PLOT;
12620  merge EMWS1.Clus3_TREE_PLOT tempcolor;
12621  by node;
12622  length traintotal 8;
12623  retain traintotal;
12624  label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
12625  if node=1 then do;
12626  traintotal = N;
12627  end;
12628  if NODE eq . then delete;
12629  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_TREE_PLOT.
NOTE: There were 15 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12630  data EMWS1.Clus3_TREE_PLOT;
12631  set EMWS1.Clus3_TREE_PLOT;
12632  textall = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodeId_vlabel, noquote, )):"|| put(Node, 13.)||'0A'x||trim(textall);
12633  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_TREE_PLOT.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12634  data tempout;
12635  set WORK.Clus3_outnodes;
12636  run;

NOTE: There were 15 observations read from the data set WORK.CLUS3_OUTNODES.
NOTE: The data set WORK.TEMPOUT has 15 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12637  proc sort data=tempout;
12638  by descending P__SEGMENT_4;
12639  run;

NOTE: There were 15 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TEMPOUT has 15 observations and 29 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12640  data tree_temp;
12641  set tempout;
12642  if LEAF ne .;
12643  label index="%sysfunc(sasmsg(sashelp.dmine, rpt_leafindex_vlabel  , NOQUOTE))";
12644  label percevent_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_perc_train_vlabel  , NOQUOTE))";
12645  label perc_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_percevent_train_vlabel  , NOQUOTE))";
12646  label tprob="%sysfunc(sasmsg(sashelp.dmine, rpt_prob_vlabel  , NOQUOTE, %nrbquote()))";
12647  tprob = round(P__SEGMENT_4, .01);
12648  percevent_train = round ( tprob*100, .01);
12649  *perc_train =round( ( N / traintotal)*100, .001);
12650  perc_train =round( ( N / traintotal), .01);
12651  if missing(perc_train) then perc_train = round( linkwidth*100, .001);
12652  index = _n_;
12653  keep NODE index tprob perc_train percevent_train
12654  ;
12655  run;

NOTE: There were 15 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TREE_TEMP has 8 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12656  proc sort data=tree_temp;
12657  by NODE;
12658  run;

NOTE: There were 8 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set WORK.TREE_TEMP has 8 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12659  proc sort data=EMWS1.Clus3_TREE_PLOT;
12660  by NODE;
12661  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_TREE_PLOT.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12662  data EMWS1.Clus3_TREE_PLOT;
12663  merge EMWS1.Clus3_TREE_PLOT tree_temp;
12664  by NODE;
12665  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_TREE_PLOT.
NOTE: There were 8 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12666  proc sort data=EMWS1.Clus3_TREE_PLOT;
12667  by node index;
12668  run;

NOTE: There were 15 observations read from the data set EMWS1.CLUS3_TREE_PLOT.
NOTE: The data set EMWS1.CLUS3_TREE_PLOT has 15 observations and 17 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12669  title9 ' ';
12670  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_VariableImportance_title, NOQUOTE))";
12671  proc print data=EMWS1.Clus3_OUTIMPORT(where=(IMPORTANCE>0)) noobs label;
12672  run;

NOTE: There were 4 observations read from the data set EMWS1.CLUS3_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12673  title10;

12674  data WORK.M35CPTC9;
12675  set WORK.M35CPTC9;
12676  if role eq 'REJECTED' then role = 'INPUT';
12677  run;

NOTE: There were 10 observations read from the data set WORK.M35CPTC9.
NOTE: The data set WORK.M35CPTC9 has 10 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12678  proc sort data=EMWS1.Clus3_OUTIMPORT out=WORK.Clus3_GRAPHVARS(keep=NAME);
12679  where IMPORTANCE>0;
12680  by NAME;
12681  run;

NOTE: There were 4 observations read from the data set EMWS1.CLUS3_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The data set WORK.CLUS3_GRAPHVARS has 4 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12682  proc sort data = WORK.M35CPTC9;
12683  by NAME;
12684  run;

NOTE: There were 10 observations read from the data set WORK.M35CPTC9.
NOTE: The data set WORK.M35CPTC9 has 10 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12685  data WORK.M35CPTC9;
12686  merge WORK.M35CPTC9 WORK.Clus3_GRAPHVARS(in=_b_);
12687  by NAME;
12688  if _b_ or ROLE = "FREQ" or REPORT="Y" then output;
12689  run;

NOTE: There were 10 observations read from the data set WORK.M35CPTC9.
NOTE: There were 4 observations read from the data set WORK.CLUS3_GRAPHVARS.
NOTE: The data set WORK.M35CPTC9 has 4 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12690  data WORK.M35CPTC9;
12691  set WORK.M35CPTC9 end=_eof_ nobs=_nobs_;
12692  output;
12693  if _eof_ then do;
12694  name = '_SEGMENT_';
12695  ROLE = 'BY';
12696  LEVEL = 'NOMINAL';
12697  LABEL = 'Segment Variable';
12698  TYPE = 'N';
12699  FORMAT = '';
12700  INFORMAT = '';
12701  output;
12702  end;
12703  run;

NOTE: There were 4 observations read from the data set WORK.M35CPTC9.
NOTE: The data set WORK.M35CPTC9 has 5 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12704  *------------------------------------------------------------* ;
12705  * Clus3: STDIZE Variables Macro ;
12706  *------------------------------------------------------------* ;
12707  %macro stdizevar;
12708      Age
12709  %mend stdizevar;
12710  *------------------------------------------------------------*;
12711  * Clus3: Computing Summary Statistics;
12712  *------------------------------------------------------------*;
12713  proc stdize
12714  data = EMWS1.Clus3_TRAIN
12715  out=_null_
12716  outstat=WORK.Clus3_STAT
12717  add=0 fuzz=1E-14 initial=MAD
12718  vardef=df
12719  method=STD
12720  mult=1
12721  pctlmtd=ORD_STAT pctldef=2
12722  pctlpts=(
12723  0
12724  100
12725  )
12726  ;
12727  var %stdizevar;
12728  run;

NOTE: INITIAL= will be ignored.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT_TRAIN.
NOTE: View EMWS1.CLUS3_TRAIN.VIEW used (Total process time):
      real time           0.17 seconds
      cpu time            0.17 seconds
      
NOTE: There were 4258 observations read from the data set EMWS1.FILTER_TRAIN.
NOTE: There were 4258 observations read from the data set EMWS1.CLUS3_TRAIN.
NOTE: The data set WORK.CLUS3_STAT has 10 observations and 2 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.19 seconds
      cpu time            0.18 seconds
      

12729  quit;

12730  data WORK.Clus3_MINMAX;
12731  set WORK.Clus3_STAT;
12732  where _TYPE_ in('P0','P100');
12733  if _TYPE_='P0' then _TYPE_='MIN';
12734  else if _TYPE_='P100' then _TYPE_='MAX';
12735  run;

NOTE: There were 2 observations read from the data set WORK.CLUS3_STAT.
      WHERE _TYPE_ in ('P0', 'P100');
NOTE: The data set WORK.CLUS3_MINMAX has 2 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12736  proc transpose data=WORK.Clus3_MINMAX out=WORK.Clus3_MINMAX(drop=_LABEL_ rename=(_NAME_=_VARIABLE_));
12737  id _TYPE_;
12738  run;

WARNING: The variable _LABEL_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 2 observations read from the data set WORK.CLUS3_MINMAX.
NOTE: The data set WORK.CLUS3_MINMAX has 1 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12739  data WORK.Clus3_UGRID;
12740  set WORK.Clus3_MINMAX;
12741  B1 = MIN + (1-1)*(MAX-MIN)/8;
12742  B2 = MIN + (2-1)*(MAX-MIN)/8;
12743  B3 = MIN + (3-1)*(MAX-MIN)/8;
12744  B4 = MIN + (4-1)*(MAX-MIN)/8;
12745  B5 = MIN + (5-1)*(MAX-MIN)/8;
12746  B6 = MIN + (6-1)*(MAX-MIN)/8;
12747  B7 = MIN + (7-1)*(MAX-MIN)/8;
12748  B8 = MIN + (8-1)*(MAX-MIN)/8;
12749  B9 = MIN + (9-1)*(MAX-MIN)/8;
12750  drop MIN MAX;
12751  run;

NOTE: There were 1 observations read from the data set WORK.CLUS3_MINMAX.
NOTE: The data set WORK.CLUS3_UGRID has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12752  *------------------------------------------------------------*;
12753  * Clus3: Creating formats for binning interval variables;
12754  *------------------------------------------------------------*;
12755  proc format;
12756  value F1_
12757  18-28 = "18:28"
12758  28-38 = "28:38"
12759  38-48 = "38:48"
12760  48-58 = "48:58"
12761  58-68 = "58:68"
12762  68-78 = "68:78"
12763  78-88 = "78:88"
12764  88-98 = "88:98"
12765  ;
NOTE: Format F1_ has been output.
12766  run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12767  ods listing close;
12768  ods output crosstabfreqs=WORK.TEMPFREQ;
12769  proc freq data = EMWS1.Clus3_TRAIN order=formatted addnames;
12770  table Age * _SEGMENT_ / missing;
12771  table Career * _SEGMENT_ / missing;
12772  table Education * _SEGMENT_ / missing;
12773  table Marital_Statues * _SEGMENT_ / missing;
12774  format AGE F1_.;
12775  run;

NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT_TRAIN.
NOTE: View EMWS1.CLUS3_TRAIN.VIEW used (Total process time):
      real time           0.13 seconds
      cpu time            0.14 seconds
      
NOTE: There were 4258 observations read from the data set EMWS1.FILTER_TRAIN.
NOTE: The data set WORK.TEMPFREQ has 186 observations and 15 variables.
NOTE: There were 4258 observations read from the data set EMWS1.CLUS3_TRAIN.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
      

12776  quit;
12777  ods listing;
12778  data EMWS1.Clus3_PROFILE(keep=_VARIABLE_ _SEGMENT_ TYPE COUNT PERCENT _X_ _XLABEL_);
12779  label _VARIABLE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" _SEGMENT_ = "Segment Variable" Type = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,         NOQUOTE))" _X_ =
12780     "%sysfunc(sasmsg(sashelp.dmine, rpt_numValue_vlabel, NOQUOTE))" _XLABEL_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_fmtValue_vlabel ,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,        NOQUOTE))" PERCENT =
12781     "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,      NOQUOTE))";
12782  dsid = open("WORK.TEMPFREQ");
12783  varnum = varnum(dsid, 'ROWVARIABLE');
12784  freqnum = varnum(dsid, 'FREQUENCY');
12785  pvarnum = varnum(dsid, 'PERCENT');
12786  typenum = varnum(dsid, '_TYPE_');
12787  bynum = varnum(dsid, "_SEGMENT_");
12788  length varformat _VARIABLE_ $32 _XLABEL_ $32 TYPE $1;
12789  do while(^fetch(dsid));
12790  count = getvarn(dsid, freqnum);
12791  percent = getvarn(dsid, pvarnum);
12792  _VARIABLE_ = strip(getvarc(dsid, varnum));
12793  varblnum = varnum(dsid, _VARIABLE_);
12794  _SEGMENT_ = getvarn(dsid, bynum);
12795  type = vartype(dsid, varblnum);
12796  varformat = varfmt(dsid, varblnum);
12797  if varformat eq '' then varformat = 'best12.';
12798  _X_=.;
12799  if type = 'N' then do;
12800  _X_ = getvarn(dsid, varblnum);
12801  _XLABEL_ = left(putn(_X_, varformat));
12802  end;
12803  else _XLABEL_ = getvarc(dsid, varblnum);
12804  if getvarc(dsid, typenum) = '11' then output;
12805  end;
12806  dsid = close(dsid);
12807  run;

NOTE: The data set EMWS1.CLUS3_PROFILE has 135 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12808  proc sort data=EMWS1.Clus3_PROFILE NOTHREADS;
12809  by _VARIABLE_ _SEGMENT_;
12810  run;

NOTE: There were 135 observations read from the data set EMWS1.CLUS3_PROFILE.
NOTE: The data set EMWS1.CLUS3_PROFILE has 135 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12811  proc means data=EMWS1.Clus3_PROFILE noprint missing NWAY;
12812  class _VARIABLE_ _SEGMENT_;
12813  var COUNT;
12814  output out=WORK.Clus3_STATCOUNT(keep=_SEGMENT_ _VARIABLE_ SUM) SUM=SUM;
12815  run;

NOTE: There were 135 observations read from the data set EMWS1.CLUS3_PROFILE.
NOTE: The data set WORK.CLUS3_STATCOUNT has 20 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12816  proc sort data=WORK.Clus3_STATCOUNT NOTHREADS;
12817  by _VARIABLE_ _SEGMENT_;
12818  run;

NOTE: There were 20 observations read from the data set WORK.CLUS3_STATCOUNT.
NOTE: The data set WORK.CLUS3_STATCOUNT has 20 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12819  data EMWS1.Clus3_PROFILE(drop=SUM);
12820  label BYPERCENT= "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel, NOQUOTE, _SEGMENT_))";
12821  merge EMWS1.Clus3_PROFILE WORK.Clus3_STATCOUNT;
12822  by _VARIABLE_ _SEGMENT_;
12823  if SUM ne . then BYPERCENT = 100*COUNT/SUM;
12824  run;

NOTE: There were 135 observations read from the data set EMWS1.CLUS3_PROFILE.
NOTE: There were 20 observations read from the data set WORK.CLUS3_STATCOUNT.
NOTE: The data set EMWS1.CLUS3_PROFILE has 135 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12825  proc sort data=EMWS1.Clus3_PROFILE NOTHREADS;
12826  by _VARIABLE_;
12827  run;

NOTE: There were 135 observations read from the data set EMWS1.CLUS3_PROFILE.
NOTE: The data set EMWS1.CLUS3_PROFILE has 135 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12828  proc sort data=WORK.M35CPTC9;
12829  by Name;
12830  run;

NOTE: There were 5 observations read from the data set WORK.M35CPTC9.
NOTE: The data set WORK.M35CPTC9 has 5 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12831  data EMWS1.Clus3_PROFILE;
12832  merge EMWS1.Clus3_PROFILE(in=_a) WORK.M35CPTC9(keep=Name Label Role rename=(Name=_Variable_ Label=_Label_));
12833  by _Variable_;
12834  label Role = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel ,  NOQUOTE))";
12835  label Label = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel , NOQUOTE))";
12836  if _a then output;
12837  run;

NOTE: Variable Label is uninitialized.
WARNING: Multiple lengths were specified for the BY variable _VARIABLE_ by input data sets. This might cause unexpected results.
NOTE: There were 135 observations read from the data set EMWS1.CLUS3_PROFILE.
NOTE: There were 5 observations read from the data set WORK.M35CPTC9.
NOTE: The data set EMWS1.CLUS3_PROFILE has 135 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12838  proc sort data=EMWS1.Clus3_PROFILE;
12839  by _SEGMENT_ _VARIABLE_ _X_;
12840  run;

NOTE: There were 135 observations read from the data set EMWS1.CLUS3_PROFILE.
NOTE: The data set EMWS1.CLUS3_PROFILE has 135 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12841  data EMWS1.Clus3_PROFILE(rename=(_VARIABLE_=Variable _X_=NumericValue _XLABEL_=FmtValue));
12842  set EMWS1.Clus3_PROFILE;
12843  retain orderedValue 0;
12844  label OrderedValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_OrderedValue_vlabel, NOQUOTE))";
12845  by _SEGMENT_ _VARIABLE_;
12846  if first._variable_ then orderedValue=1;
12847  else orderedValue+1;
12848  run;

NOTE: There were 135 observations read from the data set EMWS1.CLUS3_PROFILE.
NOTE: The data set EMWS1.CLUS3_PROFILE has 135 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12849  proc transpose data=EMWS1.Clus3_OUTVAR out=WORK.Clus3_OUTVAR(where=(COL1 ^in('IMPUTED','OMITTED')));
12850  var Age--Marital_Statuessingle;
12851  where _TYPE_ in('TYPE' 'VARIABLE');
12852  run;

NOTE: There were 2 observations read from the data set EMWS1.CLUS3_OUTVAR.
      WHERE _TYPE_ in ('TYPE', 'VARIABLE');
NOTE: The data set WORK.CLUS3_OUTVAR has 20 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12853  *------------------------------------------------------------* ;
12854  * Clus3: DMVQ Variables;
12855  *------------------------------------------------------------* ;
12856  %macro dmvqvars;
12857      Age Careeradministration Careerblue_collar Careerentrepreneur Careerhousemaid
12858     Careermanagement Careerretired Careerself_employed Careerservices Careerstudent
12859     Careertechnician Careerunemployed Educationilliterate
12860     Educationprimary_education Educationprofessional_educat
12861     Educationsecondary_education Educationuniversity_educatio
12862     Marital_Statuesdivorced Marital_Statuesmarried Marital_Statuessingle
12863  %mend ;
12864  
12865  

12866  data WORK.Clus3_temp;
12867  set EMWS1.Clus3_OUTMEAN;
12868  _idvar_=left(put(_SEGMENT_,4.));
12869  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS3_OUTMEAN.
NOTE: The data set WORK.CLUS3_TEMP has 5 observations and 30 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12870  proc distance data=WORK.Clus3_temp out=EMWS1.Clus3_DISTANCE method=l(2) shape=square;
12871  id _idvar_;
12872  var interval(%dmvqvars);
12873  run;

NOTE: The data set EMWS1.CLUS3_DISTANCE has 5 observations and 6 variables.
NOTE: PROCEDURE DISTANCE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12874  proc mds data=EMWS1.Clus3_DISTANCE out=WORK.Clus3_mds level=absolute nohist shape=square dim=3;
12875  object _idvar_;
12876  run;

NOTE: Convergence reached in 5 iterations.
NOTE: The data set WORK.CLUS3_MDS has 6 observations and 8 variables.
NOTE: PROCEDURE MDS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12877  quit;
12878  data WORK.Clus3_mds;
12879  set WORK.Clus3_mds;
12880  if _type_ ne 'CONFIG' then delete;
12881  run;

NOTE: There were 6 observations read from the data set WORK.CLUS3_MDS.
NOTE: The data set WORK.CLUS3_MDS has 5 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12882  data WORK.Clus3_mds(label="&label" keep=_idvar_ _radius_ dim1 dim2 dim3);
WARNING: Apparent symbolic reference LABEL not resolved.
12883  merge WORK.Clus3_temp WORK.Clus3_mds;
12884  run;

NOTE: There were 5 observations read from the data set WORK.CLUS3_TEMP.
NOTE: There were 5 observations read from the data set WORK.CLUS3_MDS.
NOTE: The data set WORK.CLUS3_MDS has 5 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12885  options nodate;
12886  title1 "%sysfunc(sasmsg(sashelp.dmine, rpt_ClusterDistance_title, NOQUOTE))";
12887  %plotit(data=WORK.Clus3_mds, datatype=mds, radii=_radius_, labelvar=_idvar_, symtype=circle, symbols='*', gout=WORK.Clus3, gname=DISTANCE, gopts2=nodisplay, gopts=device=GIF, gopplot=cback=white, titlecol=black, labelcol=black, tickcol=black,
12888     framecol=black, post=C:\Users\20161277\AppData\Local\Temp\72\SAS Temporary Files\_TD47620_BA-TEACHING_\plotit.ps);

                                                                                                                    Types Legend  | CONFIG
                                                                                                                    --------------+---------
                                                                                                                    Symbol Types  | circle
                                                                                                                    Symbols       | *
                                                                                                                    Symbol Colors | cx000000
                                                                                                                    Label  Colors | cx000000
                                                                                                                    Symbol Sizes  | 1
                                                                                                                    Label  Sizes  | 1
                                                                                                                    Symbol Fonts  | none
                                                                                                                    Label  Fonts  | none
                                                                                                                    ------------------------

                                                                                                         Iterative Scatter Plot of Labeled Points Macro

                                                                                                    Iteration    Place    Line Size    Page Size    Penalty
                                                                                                    -------------------------------------------------------
                                                                                                        1          2         65           45            0

The following code will create the printer plot on which the graphical plot is based:

options nonumber ls=65 ps=45;
proc plot nolegend formchar='|----|+|---' data=preproc vtoh=2;
   plot Dim2 * Dim1 $ _idvar_ = _symbol_ /
        haxis=by 10 vaxis=by 10 box list=1
        placement=((h=2 -2 : s=right left) (v=1 -1 * h=0 -1 to -5 by alt));
   label Dim2 = 'Dimension 2' Dim1 = 'Dimension 1';
   label Dim2 = '#' Dim1 = '#';
   run; quit;

The plot was created with the following goptions:

goptions nodisplay hpos=69 vpos=26 hsize=8.33in vsize=6.24in cback=white device=GIF;

The OUT=anno Annotate data set has 181 observations.
The PLOTIT macro used 0.7 seconds to create OUT=anno.
12889  goptions display;
12890  title;

12891  filename gsasfile "C:\Users\20161277\Documents\CA assign 2
12891! data\20161277_CAassignment2\Workspaces\EMWS1\Clus3\GRAPH\Distance.gif";
12892  goptions reset=all device=PNG display gaccess= gsasfile gsfmode= replace cback= white;
12893  proc greplay igout=WORK.Clus3 nofs;
NOTE: Building list of graphs from the catalog.

NOTE: Enter greplay commands or statements.
12894  replay DISTANCE;
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this 
      session.
NOTE: 18908 bytes written to C:\Users\20161277\Documents\CA assign 2 
      data\20161277_CAassignment2\Workspaces\EMWS1\Clus3\GRAPH\Distance.gif.
12895  quit;

NOTE: PROCEDURE GREPLAY used (Total process time):
      real time           0.11 seconds
      cpu time            0.11 seconds
      

12896  goptions reset=all;
12897  filename gsasfile;
NOTE: Fileref GSASFILE has been deassigned.

12898  proc datasets lib=EMWS1 nolist;
12899  modify Clus3_DISTANCE;
12900  rename _idvar_=_SEGMENT_;
NOTE: Renaming variable _idvar_ to _SEGMENT_.
12901  run;

NOTE: MODIFY was successful for EMWS1.CLUS3_DISTANCE.DATA.
12902  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12903  *------------------------------------------------------------*;
12904  * Clus3: Creating data set for Input Mean report;
12905  *------------------------------------------------------------*;
12906  data temp(drop=_type_ over_all);
12907  set EMWS1.Clus3_OUTSTAT;
12908  where _type_ in('DMDB_MEAN', 'CLUS_MEAN');
12909  run;

NOTE: There were 6 observations read from the data set EMWS1.CLUS3_OUTSTAT.
      WHERE _type_ in ('CLUS_MEAN', 'DMDB_MEAN');
NOTE: The data set WORK.TEMP has 6 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12910  proc sort data=temp;
12911  by _SEGMENT_;
12912  run;

NOTE: There were 6 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 6 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12913  proc stdize data=temp out=stdtemp pctlpts=0 100 outstat=stat;
12914  var Age--Marital_Statuessingle;
12915  run;

NOTE: There were 6 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.STDTEMP has 6 observations and 21 variables.
NOTE: The data set WORK.STAT has 10 observations and 21 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12916  proc transpose data=stat out=tstat(rename=(COL1=MEAN COL2=STD COL3=MIN COL4=MAX));
12917  where _type_ in ('LOCATION', 'SCALE','P0', 'P100');
12918  run;

NOTE: There were 4 observations read from the data set WORK.STAT.
      WHERE _type_ in ('LOCATION', 'P0', 'P100', 'SCALE');
NOTE: The data set WORK.TSTAT has 20 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12919  data tstat( rename=(_NAME_=NAME) keep=_NAME_ cv stdmin stdmax);
12920  set tstat;
12921  if std ^in (0, .) then do;
12922  stdmin = abs((min-mean)/std);
12923  stdmax = abs((max-mean)/std);
12924  end;
12925  if mean ^in(0, .) then cv = std/mean;
12926  run;

NOTE: There were 20 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 20 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12927  proc sort data=tstat;
12928  by NAME;
12929  run;

NOTE: There were 20 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 20 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12930  proc transpose data=stdtemp out=tstdtemp(rename=(_NAME_=NAME _LABEL_=LABEL COL1=MEAN));
12931  by _SEGMENT_;
12932  run;

NOTE: There were 6 observations read from the data set WORK.STDTEMP.
NOTE: The data set WORK.TSTDTEMP has 120 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12933  proc sort data=tstdtemp;
12934  by NAME;
12935  run;

NOTE: There were 120 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set WORK.TSTDTEMP has 120 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12936  data tstdtemp;
12937  merge tstdtemp tstat;
12938  by NAME;
12939  STDMEAN = (MEAN + stdmin)/(stdmin + stdmax);
12940  drop stdmin stdmax mean;
12941  run;

NOTE: There were 120 observations read from the data set WORK.TSTDTEMP.
NOTE: There were 20 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTDTEMP has 120 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12942  proc transpose data=EMWS1.Clus3_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME
12942! VARIABLE=INPUT));
12943  var Age--Marital_Statuessingle;
12944  id _type_;
12945  where _type_ = 'VARIABLE';
12946  run;

NOTE: There were 1 observations read from the data set EMWS1.CLUS3_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 20 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12947  proc sort data=tempVar;
12948  by NAME;
12949  run;

NOTE: There were 20 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 20 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12950  data EMWS1.Clus3_INPUTMEAN(rename=(NAME=VARIABLE));
12951  Length _SEGMENT_CHAR_ $7;
12952  label _SEGMENT_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentName_vlabel,  NOQUOTE))"
12952! _SEGMENT_CHAR_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentId_vlabel,    NOQUOTE))" NAME =
12952! "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,     NOQUOTE))" INPUT =
12953     "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,        NOQUOTE))" LABEL =
12953! "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel,        NOQUOTE))" CV =
12953! "%sysfunc(sasmsg(sashelp.dmine, rpt_cv_vlabel,           NOQUOTE))" STDMEAN =
12954     "%sysfunc(sasmsg(sashelp.dmine, rpt_normmean_vlabel,     NOQUOTE))";
12955  merge tempvar tstdtemp;
12956  by NAME;
12957  if LABEL='' then LABEL=NAME;
12958  _SEGMENT_CHAR_ = strip(put(_SEGMENT_, best.));
12959  if _SEGMENT_ = . then _SEGMENT_CHAR_='Overall';
12960  run;

NOTE: There were 20 observations read from the data set WORK.TEMPVAR.
NOTE: There were 120 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set EMWS1.CLUS3_INPUTMEAN has 120 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12961  proc sort data=EMWS1.Clus3_INPUTMEAN;
12962  by descending cv;
12963  run;

NOTE: There were 120 observations read from the data set EMWS1.CLUS3_INPUTMEAN.
NOTE: The data set EMWS1.CLUS3_INPUTMEAN has 120 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12964  *------------------------------------------------------------*;
12965  * Clus3: Determining the important variables;
12966  *------------------------------------------------------------*;

12967  %let _nobs = 0;
12968  data keepvars(rename=(NAME=INPUT));
12969  set EMWS1.Clus3_OUTIMPORT(where=(IMPORTANCE>0.5)) end=eof;
12970  if eof then call symput('_nobs', strip(put(_N_, best.)));
12971  run;

NOTE: There were 3 observations read from the data set EMWS1.CLUS3_OUTIMPORT.
      WHERE IMPORTANCE>0.5;
NOTE: The data set WORK.KEEPVARS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12972  proc transpose data=EMWS1.Clus3_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME
12972! VARIABLE=INPUT));
12973  var Age--Marital_Statuessingle;
12974  id _type_;
12975  where _type_ = 'VARIABLE';
12976  run;

NOTE: There were 1 observations read from the data set EMWS1.CLUS3_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 20 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12977  proc sort data=keepvars;
12978  by INPUT;
12979  run;

NOTE: There were 3 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.KEEPVARS has 3 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12980  proc sort data=tempvar;
12981  by INPUT;
12982  run;

NOTE: There were 20 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 20 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12983  data vars;
12984  merge tempvar keepvars(in=b);
12985  by INPUT;
12986  if b then output;
12987  run;

WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This might 
         cause unexpected results.
NOTE: There were 20 observations read from the data set WORK.TEMPVAR.
NOTE: There were 3 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.VARS has 15 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12988  proc sort data=vars;
12989  by descending importance;
12990  run;

NOTE: There were 15 observations read from the data set WORK.VARS.
NOTE: The data set WORK.VARS has 15 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12991  data _null_;
12992  set vars;
12993  if _N_=1 then call symput('CLUS_PROFVARS', strip(NAME));
12994  else call symput('CLUS_PROFVARS',symget('CLUS_PROFVARS')!!' '!!strip(NAME));
12995  run;

NOTE: There were 15 observations read from the data set WORK.VARS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12996  *------------------------------------------------------------*;
12997  * mergeVarMeansandClusLabel;
12998  *------------------------------------------------------------*;
12999  data temp(keep=_SEGMENT_ &CLUS_PROFVARS);
13000  length _SEGMENT_ &CLUS_PROFVARS 8;
13001  set EMWS1.Clus3_OUTSTAT;
13002  where _type_ ='CLUS_MEAN';
13003  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS3_OUTSTAT.
      WHERE _type_='CLUS_MEAN';
NOTE: The data set WORK.TEMP has 5 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

13004  proc sort data=temp;
13005  by _SEGMENT_;
13006  run;

NOTE: There were 5 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 5 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

13007  data EMWS1.Clus3_LABEL;
13008  merge EMWS1.Clus3_LABEL(keep=_SEGMENT_ LABEL) temp;
13009  by _SEGMENT_;
13010  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS3_LABEL.
NOTE: There were 5 observations read from the data set WORK.TEMP.
NOTE: The data set EMWS1.CLUS3_LABEL has 5 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

