*------------------------------------------------------------*
* Report Log
Date:                September 27, 2020
Time:                14:27:21
*------------------------------------------------------------*
11709  data WORK.M1V2LFFY;
11710  set WORK.M1V2LFFY;
11711  if role eq 'REJECTED' then role = 'INPUT';
11712  run;

NOTE: There were 4 observations read from the data set WORK.M1V2LFFY.
NOTE: The data set WORK.M1V2LFFY has 4 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11713  data WORK.M1V2LFFY;
11714  set WORK.M1V2LFFY end=_eof_ nobs=_nobs_;
11715  output;
11716  if _eof_ then do;
11717  name = '_SEGMENT_';
11718  ROLE = 'TARGET';
11719  LEVEL = 'NOMINAL';
11720  LABEL = 'Segment Variable';
11721  TYPE = 'N';
11722  FORMAT = '';
11723  INFORMAT = '';
11724  USE='Y';
11725  output;
11726  end;
11727  run;

NOTE: There were 4 observations read from the data set WORK.M1V2LFFY.
NOTE: The data set WORK.M1V2LFFY has 5 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11728  *------------------------------------------------------------*;
11729  * Clus: Create decision matrix;
11730  *------------------------------------------------------------*;
11731  *------------------------------------------------------------* ;
11732  * Clus: Tree Variables Macro ;
11733  *------------------------------------------------------------* ;
11734  %macro EM_TREEVARS;
11735      Contact_Type Mortage Number_of_Contacts Personal_Loan
11736  %mend EM_TREEVARS;
11737  *------------------------------------------------------------* ;
11738  * Clus: Tree Targets Macro ;
11739  *------------------------------------------------------------* ;
11740  %macro EM_TREETARGETS;
11741      _SEGMENT_
11742  %mend EM_TREETARGETS;
11743  data EMWS1.EM_Clus / view=EMWS1.EM_Clus;
11744  set EMWS1.Clus_TRAIN(keep=%EM_TREEVARS %EM_TREETARGETS);
11745  run;

NOTE: DATA STEP view saved on file EMWS1.EM_CLUS.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS_TRAIN.VIEW used (Total process time):
      real time           0.08 seconds
      cpu time            0.07 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
      

11746  *------------------------------------------------------------* ;
11747  * Clus: Interval Inputs Macro ;
11748  *------------------------------------------------------------* ;
11749  %macro INTINPUTS;
11750      Number_of_Contacts
11751  %mend INTINPUTS;
11752  *------------------------------------------------------------* ;
11753  * Clus: Binary and Nominal Inputs Macro ;
11754  *------------------------------------------------------------* ;
11755  %macro NOMINPUTS;
11756      Contact_Type Mortage Personal_Loan
11757  %mend NOMINPUTS;
11758  *------------------------------------------------------------* ;
11759  * Clus: Ordinal Inputs Macro ;
11760  *------------------------------------------------------------* ;
11761  %macro ORDINPUTS;
11762  
11763  %mend ORDINPUTS;
11764  *------------------------------------------------------------*;
11765  * Clus: Run ARBOR procedure;
11766  *------------------------------------------------------------*;

11767  proc arbor data=EMWS1.EM_Clus
11768  MAXSURRS=3
11769  ;
11770  ;
11771  input %INTINPUTS
11772  / level = interval;
11773  input %NOMINPUTS
11774  / level=nominal;
11775  target _SEGMENT_ / level=NOMINAL
11776  Criterion=PROBCHISQ
11777  ;
11778  ;
11779  Performance DISK
11780  ;
11781  MAKEMACRO NLEAVES=nleaves;
NOTE: 1438588 kilobytes of physical memory.
NOTE: Will use 33987 out of 33987 training cases.
NOTE: Using memory pool with 166610944 bytes.
NOTE: Passed training data 16 times.
NOTE: Training used 2337688 bytes of work memory.
NOTE: The subtree sequence contains 9 subtrees. The largest has 17 nodes and 9 leaves.
NOTE: Using subtree with 13 nodes and 7 leaves.
NOTE: Created macro variable NLEAVES equal to 7.
11782  save
11783  MODEL=EMWS1.Clus_PLOTDS
11784  SEQUENCE=EMWS1.Clus_OUTSEQ
11785  IMPORTANCE=EMWS1.Clus_OUTIMPORT
11786  NODESTAT=EMWS1.Clus_OUTNODES
11787  SUMMARY=WORK.OUTSUMMARY_TREE_1A84UNP
11788  STATSBYNODE=WORK.OUTSTATS_TREE_1A84UNP
11789  Pathlistnonmissing = WORK.OUTPATH_TREE_1A84UNP
11790  Rules = WORK.OUTRULES_TREE_1A84UNP
11791  ;
NOTE: The data set EMWS1.CLUS_OUTIMPORT has 4 observations and 5 variables.
NOTE: The data set EMWS1.CLUS_PLOTDS has 574 observations and 4 variables.
NOTE: The data set EMWS1.CLUS_OUTNODES has 13 observations and 26 variables.
NOTE: The data set WORK.OUTPATH_TREE_1A84UNP has 26 observations and 7 variables.
NOTE: The data set WORK.OUTRULES_TREE_1A84UNP has 99 observations and 6 variables.
NOTE: The data set EMWS1.CLUS_OUTSEQ has 9 observations and 11 variables.
NOTE: The data set WORK.OUTSTATS_TREE_1A84UNP has 91 observations and 5 variables.
NOTE: The data set WORK.OUTSUMMARY_TREE_1A84UNP has 24 observations and 8 variables.
11792  run;

11793  quit;

NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT2_DATA.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT2_TRAIN.
NOTE: There were 33987 observations read from the data set EMWS1.FILTER4_TRAIN.
NOTE: View EMWS1.EM_CLUS.VIEW used (Total process time):
      real time           0.93 seconds
      cpu time            0.93 seconds
      
NOTE: There were 33987 observations read from the data set EMWS1.CLUS_TRAIN.
NOTE: There were 33987 observations read from the data set EMWS1.EM_CLUS.
NOTE: The data set WORK._NAMEDAT has 5 observations and 5 variables.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.95 seconds
      cpu time            0.95 seconds
      

11794  data EMWS1.Clus_OUTIMPORT;
11795  set EMWS1.Clus_OUTIMPORT;
11796  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel, noquote))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, noquote))" NRULES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nrules_vlabel, noquote))" IMPORTANCE =
11797     "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel, noquote))" NSURROGATES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nsurrogates_vlabel, noquote))"
11798  ;
11799  run;

NOTE: There were 4 observations read from the data set EMWS1.CLUS_OUTIMPORT.
NOTE: The data set EMWS1.CLUS_OUTIMPORT has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11800  filename x "C:\Users\20161277\Documents\CA assign 2 data\20161277_CAassignment2\Workspaces\EMWS1\Clus\ENGLISHRULES.txt" encoding='utf-8' NOBOM;

11801  data temp;
11802  length varname $18;
11803  retain varname;
11804  set WORK.OUTPATH_TREE_1A84UNP;
11805  if ^missing(variable) then varname=variable;
11806  else if ^missing(var_name) then varname=var_name;
11807  output;
11808  run;

NOTE: There were 26 observations read from the data set WORK.OUTPATH_TREE_1A84UNP.
NOTE: The data set WORK.TEMP has 26 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11809  proc sort data=temp;
11810  by node;
11811  run;

NOTE: There were 26 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 26 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11812  proc sort data=EMWS1.Clus_OUTNODES out=outnodes;
11813  by node;
11814  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_OUTNODES.
NOTE: The data set WORK.OUTNODES has 13 observations and 26 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11815  data temp;
11816  merge temp(in=_a) outnodes(keep= node
11817  NPRIORS
11818  P__SEGMENT_5
11819  P__SEGMENT_3
11820  P__SEGMENT_4
11821  P__SEGMENT_2
11822  P__SEGMENT_1
11823  );
11824  by node;
11825  if _a;
11826  run;

NOTE: There were 26 observations read from the data set WORK.TEMP.
NOTE: There were 13 observations read from the data set WORK.OUTNODES.
NOTE: The data set WORK.TEMP has 26 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11827  proc sort data=temp;
11828  by node descending varname descending numeric_value;
11829  run;

NOTE: There were 26 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 26 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11830  data _null_;
11831  file x;
11832  set temp;
11833  by node descending varname;
11834  retain origvar oldnode string;
11835  length origvar $32 oldnode 8 string $200;
11836  if _n_ = 1 then do;
11837  origvar = varname;
11838  oldnode = node;
11839  end;
11840  if first.node then do;
11841  put "&EM_CODEBAR";
11842  put " Node = " node;
11843  put "&EM_CODEBAR";
11844  end;
11845  if first.varname then do;
11846  if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
11847  if MISSING(CHARACTER_VALUE) then do;
11848  if NUMERIC_VALUE ne . then do;
11849  if ^first.node then do;
11850  string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
11851  end;
11852  else do;
11853  string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
11854  end;
11855  end;
11856  end;
11857  else do;
11858  if ^first.node then do;
11859  string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
11860  end;
11861  else do;
11862  string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
11863  end;
11864  end;
11865  end;
11866  else if RELATION in ("=") then do;
11867  if ^first.node then do;
11868  string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
11869  end;
11870  else do;
11871  string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
11872  end;
11873  end;
11874  else if RELATION in ("ISMISSING") then do;
11875  if ^first.node then do;
11876  string = " AND "|| strip(varname) || " equals Missing";
11877  end;
11878  else do;
11879  string = "if "|| strip(varname) ||" equals Missing";
11880  end;
11881  end;
11882  else if RELATION in ("ISNOTMISSING") then do;
11883  if ^first.node then do;
11884  string = " AND "|| strip(varname) || " equals All Values";
11885  end;
11886  else do;
11887  string = "if "|| strip(varname) ||" equals All Values";
11888  end;
11889  end;
11890  if ^missing(varname) then origvar = varname;
11891  oldnode=node;
11892  end;
11893  else do;
11894  if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
11895  if MISSING(CHARACTER_VALUE) then do;
11896  if NUMERIC_VALUE ne . then do;
11897  if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
11898  else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
11899  end;
11900  end;
11901  else do;
11902  if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
11903  else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
11904  end;
11905  end;
11906  else if RELATION in ("=") then do;
11907  string = strip(string)||", "||strip(character_value);
11908  end;
11909  else if RELATION in ("ISMISSING") then do;
11910  end;
11911  if ^missing(varname) then origvar = varname;
11912  oldnode=node;
11913  end;
11914  if last.varname then do;
11915  if RELATION in ("ISMISSING") then do;
11916  if ^first.varname then do;
11917  string = strip(string) || " or MISSING";
11918  end;
11919  end;
11920  put string;
11921  if ^missing(varname) then origvar = varname;
11922  oldnode=node;
11923  end;
11924  if last.node then do;
11925  put "then ";
11926  put " Tree Node Identifier   = " node;
11927  put " Number of Observations = " NPRIORS;
11928  put " Predicted: _SEGMENT_=5  = " P__SEGMENT_5;
11929  put " Predicted: _SEGMENT_=3  = " P__SEGMENT_3;
11930  put " Predicted: _SEGMENT_=4  = " P__SEGMENT_4;
11931  put " Predicted: _SEGMENT_=2  = " P__SEGMENT_2;
11932  put " Predicted: _SEGMENT_=1  = " P__SEGMENT_1;
11933  put " ";
11934  if ^missing(varname) then origvar = varname;
11935  oldnode=node;
11936  end;
11937  run;

NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      11850:67    11853:66    11897:108   11898:72    
NOTE: The file X is:
      Filename=C:\Users\20161277\Documents\CA assign 2 data\20161277_CAassignment2\Workspaces\EMWS1\Clus\ENGLISHRULES.txt,
      RECFM=V,LRECL=131068,File Size (bytes)=0,
      Last Modified=27Sep2020:14:27:22,
      Create Time=23Sep2020:12:13:46

NOTE: 97 records were written to the file X.
      The minimum record length was 1.
      The maximum record length was 69.
NOTE: There were 26 observations read from the data set WORK.TEMP.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11938  filename x;
NOTE: Fileref X has been deassigned.

11939  /* belowtext */
11940  data templabel;
11941  set WORK.OUTRULES_TREE_1A84UNP;
11942  if ((ROLE="PRIMARY") AND (STAT ="LABEL"));
11943  rename character_value = belowtext;
11944  keep NODE character_value;
11945  run;

NOTE: There were 99 observations read from the data set WORK.OUTRULES_TREE_1A84UNP.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11946  data tempvar;
11947  set WORK.OUTRULES_TREE_1A84UNP;
11948  if ((ROLE="PRIMARY") AND (STAT="VARIABLE"));
11949  keep NODE character_value;
11950  run;

NOTE: There were 99 observations read from the data set WORK.OUTRULES_TREE_1A84UNP.
NOTE: The data set WORK.TEMPVAR has 6 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11951  proc sort data=templabel;
11952  by node;
11953  run;

NOTE: Input data set is empty.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11954  proc sort data=tempvar;
11955  by node;
11956  run;

NOTE: There were 6 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 6 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11957  data tempbelow;
11958  merge templabel tempvar;
11959  by node;
11960  if missing(belowtext) then belowtext= character_value;
11961  keep node belowtext;
11962  run;

NOTE: There were 0 observations read from the data set WORK.TEMPLABEL.
NOTE: There were 6 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPBELOW has 6 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11963  proc sort data=tempbelow;
11964  by node;
11965  run;

NOTE: There were 6 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.TEMPBELOW has 6 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11966  /* abovetext */
11967  data tempoutrules;
11968  set WORK.OUTRULES_TREE_1A84UNP;
11969  if ((ROLE='PRIMARY') AND(STAT in ("INTERVAL", "ORDINAL", "NOMINAL")));
11970  run;

NOTE: There were 99 observations read from the data set WORK.OUTRULES_TREE_1A84UNP.
NOTE: The data set WORK.TEMPOUTRULES has 7 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11971  proc sort data=tempoutrules;
11972  by node numeric_value;
11973  run;

NOTE: There were 7 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPOUTRULES has 7 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11974  data tempabove;
11975  set tempoutrules(rename=(node=parent));
11976  by parent numeric_value;
11977  retain abovetext tempstring flag branch origval origchar;
11978  *length abovetext tempstring origchar $45;
11979  length abovetext $256;
11980  length tempstring origchar $64;
11981  if STAT in ("INTERVAL", "ORDINAL") then do;
11982  if first.parent then do;
11983  if missing(character_value) then do;
11984  numeric_value = round(numeric_value, 0.0001);
11985  abovetext = "< "||strip(NUMERIC_VALUE);
11986  branch = 1;
11987  origval = numeric_value;
11988  output;
11989  end;
11990  else do;
11991  abovetext = "< "||strip(CHARACTER_VALUE);
11992  branch = 1;
11993  origchar = character_value;
11994  output;
11995  end;
11996  if first.parent AND last.parent then do;
11997  if missing(character_value) then do;
11998  numeric_value = round(numeric_value, 0.0001);
11999  branch = branch + 1;
12000  abovetext = ">= "||strip(NUMERIC_VALUE);
12001  output;
12002  end;
12003  else do;
12004  branch = branch + 1;
12005  abovetext = ">= "||strip(CHARACTER_VALUE);
12006  output;
12007  end;
12008  end;
12009  end;
12010  else if last.parent then do;
12011  if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
12012  if missing(character_value) then do;
12013  numeric_value = round(numeric_value, 0.0001);
12014  abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
12015  end;
12016  else do;
12017  abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
12018  end;
12019  branch = branch + 1;
12020  output;
12021  if missing(character_value) then do;
12022  numeric_value = round(numeric_value, 0.0001);
12023  abovetext = ">= "||strip(NUMERIC_VALUE);
12024  end;
12025  else do;
12026  abovetext = ">= "||strip(CHARACTER_VALUE);
12027  end;
12028  branch = branch + 1;
12029  output;
12030  end;
12031  else do;
12032  if missing(character_value) then do;
12033  numeric_value = round(numeric_value, 0.0001);
12034  abovetext = ">= "||strip(NUMERIC_VALUE);
12035  end;
12036  else do;
12037  abovetext = ">= "||strip(CHARACTER_VALUE);
12038  end;
12039  branch = branch + 1;
12040  output;
12041  end;
12042  end;
12043  else do;
12044  if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
12045  if missing(character_value) then do;
12046  numeric_value = round(numeric_value,0.0001);
12047  abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
12048  origval = numeric_value;
12049  end;
12050  else do;
12051  abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
12052  origchar = character_value;
12053  end;
12054  branch = branch + 1;
12055  output;
12056  end;
12057  else do;
12058  if missing(character_value) then do;
12059  numeric_value = round(numeric_value, 0.0001);
12060  abovetext = ">= "||strip(NUMERIC_VALUE);
12061  origval = numeric_value;
12062  end;
12063  else do;
12064  abovetext = ">= "||strip(CHARACTER_VALUE);
12065  origval = character_value;
12066  end;
12067  branch = branch + 1;
12068  output;
12069  end;
12070  end;
12071  end;
12072  else do;
12073  if first.numeric_value then do;
12074  flag = 0;
12075  abovetext = CHARACTER_VALUE;
12076  branch = numeric_value;
12077  if first.numeric_value AND last.numeric_value then do;
12078  output;
12079  end;
12080  end;
12081  else if last.numeric_value then do;
12082  if flag=0 then do;
12083  tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
12084  length = length(strip(tempstring));
12085  if length < 32 then do;
12086  abovetext = strip(tempstring);
12087  end;
12088  else do;
12089  abovetext = strip(abovetext)||", ...";
12090  flag = 1;
12091  end;
12092  end;
12093  branch = numeric_value;
12094  output;
12095  end;
12096  else do;
12097  if flag=0 then do;
12098  tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
12099  length = length(strip(tempstring));
12100  if length < 32 then do;
12101  abovetext = strip(tempstring);
12102  end;
12103  else do;
12104  abovetext = strip(abovetext)||", ...";
12105  flag=1;
12106  end;
12107  end;
12108  branch = numeric_value;
12109  end;
12110  end;
12111  keep parent branch abovetext;
12112  run;

NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      11985:25   12000:26   12014:24   12014:47   12023:26   12034:26   12047:24   12047:47   12060:26   
NOTE: Character values have been converted to numeric values at the places given by: (Line):(Column).
      12065:11   
NOTE: There were 7 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPABOVE has 12 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12113  /* MIssing value to abovetext */
12114  data tempmissing;
12115  set WORK.OUTRULES_TREE_1A84UNP;
12116  if ((ROLE="PRIMARY") AND (STAT in ("MISSING")));
12117  rename node=parent numeric_value=branch character_value=misschar;
12118  run;

NOTE: There were 99 observations read from the data set WORK.OUTRULES_TREE_1A84UNP.
NOTE: The data set WORK.TEMPMISSING has 6 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12119  proc sort data=work.tempabove;
12120  by parent branch;
12121  run;

NOTE: There were 12 observations read from the data set WORK.TEMPABOVE.
NOTE: The data set WORK.TEMPABOVE has 12 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12122  proc sort data=EMWS1.Clus_OUTNODES out=tempoutnodes;
12123  by parent branch;
12124  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_OUTNODES.
NOTE: The data set WORK.TEMPOUTNODES has 13 observations and 26 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12125  proc sort data=tempmissing;
12126  by parent branch;
12127  run;

NOTE: There were 6 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.TEMPMISSING has 6 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12128  data WORK.Clus_outnodes;
12129  merge work.tempabove tempoutNodes(drop=abovetext ) tempmissing(in=_a);
12130  by parent branch;
12131  length traintotal validtotal 8;
12132  retain traintotal validtotal;
12133  if _a then do;
12134  if ^MISSING(abovetext) then do;
12135  abovetext= strip(abovetext)||" %sysfunc(sasmsg(sashelp.dmine, tree_ormiss_vlabel, noquote))";
12136  end;
12137  else do;
12138  abovetext = " %sysfunc(sasmsg(sashelp.dmine, tree_missonly_vlabel, noquote))";
12139  end;
12140  end;
12141  if MISSING(abovetext) then abovetext="%sysfunc(sasmsg(sashelp.dmine, tree_nonmiss_vlabel, noquote))";
12142  if node=1 then do;
12143  traintotal = N;
12144  validtotal=VN;
12145  end;
12146  label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
12147  drop role rank stat misschar belowtext;
12148  run;

NOTE: Variable VN is uninitialized.
NOTE: There were 12 observations read from the data set WORK.TEMPABOVE.
NOTE: There were 13 observations read from the data set WORK.TEMPOUTNODES.
NOTE: There were 6 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.CLUS_OUTNODES has 13 observations and 28 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12149  proc sort data=WORK.Clus_outnodes;
12150  by node;
12151  run;

NOTE: There were 13 observations read from the data set WORK.CLUS_OUTNODES.
NOTE: The data set WORK.CLUS_OUTNODES has 13 observations and 28 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12152  proc sort data=tempbelow;
12153  by node;
12154  run;

NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12155  data WORK.Clus_outnodes;
12156  merge WORK.Clus_outnodes tempbelow;
12157  by node;
12158  run;

NOTE: There were 13 observations read from the data set WORK.CLUS_OUTNODES.
NOTE: There were 6 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.CLUS_OUTNODES has 13 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT2_DATA.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT2_TRAIN.
NOTE: There were 33987 observations read from the data set EMWS1.FILTER4_TRAIN.
NOTE: View EMWS1.EM_CLUS.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.20 seconds
      
NOTE: There were 33987 observations read from the data set EMWS1.CLUS_TRAIN.
12159  data tempoutstats;
12160  set WORK.OUTSTATS_TREE_1A84UNP;
12161  length tarlevel $8;
12162  tarlevel ="NOMINAL";
12163  run;

NOTE: There were 91 observations read from the data set WORK.OUTSTATS_TREE_1A84UNP.
NOTE: The data set WORK.TEMPOUTSTATS has 91 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12164  data EMWS1.Clus_TREE_PLOT;
12165  length NODETEXT TEXTALL $800 N NODECOLOR 8;
12166  set WORK.Clus_outnodes;
12167  label parent = "%sysfunc(sasmsg(sashelp.dmine, rpt_parentID_vlabel, noquote))" depth = "%sysfunc(sasmsg(sashelp.dmine, rpt_depth_vlabel, noquote))" belowtext= "%sysfunc(sasmsg(sashelp.dmine, rpt_belowtext_vlabel, noquote))" abovetext =
12168     "%sysfunc(sasmsg(sashelp.dmine, rpt_abovetext_vlabel, noquote))" linkwidth = "%sysfunc(sasmsg(sashelp.dmine, rpt_linkwidth_vlabel, noquote))" nodetext = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodetext_vlabel, noquote))" textall =
12169     "%sysfunc(sasmsg(sashelp.dmine, rpt_textall_vlabel, noquote))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainn_vlabel, noquote))" nodecolor = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodecolor_vlabel, noquote))" node =
12170     "%sysfunc(sasmsg(sashelp.dmine, rpt_node_vlabel, noquote))";
12171  keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR;
12172  run;

NOTE: Variable TEXTALL is uninitialized.
NOTE: Variable NODECOLOR is uninitialized.
NOTE: There were 13 observations read from the data set WORK.CLUS_OUTNODES.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12173  proc sort data=EMWS1.Clus_TREE_PLOT;
12174  by node;
12175  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_TREE_PLOT.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12176  proc sort data=tempoutstats;
12177  by node;
12178  run;

NOTE: There were 91 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set WORK.TEMPOUTSTATS has 91 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12179  data EMWS1.Clus_TREE_PLOT;
12180  merge EMWS1.Clus_TREE_PLOT tempoutstats;
12181  length text $800 _RASE_ P__SEGMENT_5 8;
12182  retain P__SEGMENT_5 eventlevel;
12183  by node;
12184  if statname='N' then N=statvalue;
12185  if statname='NPRIORS' then N=statvalue;
12186  if statname='PREDICTION' then eventlevel=category;
12187  _RASE_ = .;
12188  if tarlevel ^= 'INTERVAL' then do;
12189  if STATNAME = 'PROBABILITY' then do;
12190  if CATEGORY=EVENTLEVEL then do;
12191  nodetext = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12192  text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12193  P__SEGMENT_5 = round(STATVALUE, .01);
12194  end;
12195  else do;
12196  text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12197  end;
12198  textall = strip(textall)||'0A'x||strip( text);
12199  end;
12200  if last.node then do;
12201  nodetext = trim(nodetext)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12202  textall = trim(textall)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12203  output EMWS1.Clus_TREE_PLOT;
12204  end;
12205  end;
12206  else do;
12207  if statname='RASE' then _RASE_=statvalue;
12208  label _RASE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_trase_vlabel, noquote))";
12209  if STATNAME = 'PREDICTION' then do;
12210  nodetext= "%sysfunc(sasmsg(sashelp.dmine, rpt_average_vlabel, noquote))"|| put(STATVALUE, 13.4)||'0A'x|| "%sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12211  textall = nodetext;
12212  P__SEGMENT_5 = STATVALUE;
12213  ;
12214  ;
12215  end;
12216  if last.node then do;
12217  output EMWS1.Clus_TREE_PLOT;
12218  end;
12219  ;
12220  end;
12221  label P__SEGMENT_5 = "%sysfunc(sasmsg(sashelp.dmine, rpt_predictedvar_vlabel, noquote))";
12222  keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR _RASE_ P__SEGMENT_5;
12223  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_TREE_PLOT.
NOTE: There were 91 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12224  data tempcolor;
12225  set WORK.OUTSTATS_TREE_1A84UNP;
12226  retain eventlevel;
12227  if STATNAME='PREDICTION' then eventlevel=CATEGORY;
12228  run;

NOTE: There were 91 observations read from the data set WORK.OUTSTATS_TREE_1A84UNP.
NOTE: The data set WORK.TEMPCOLOR has 91 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12229  data tempcolor;
12230  set tempcolor;
12231  if 'NOMINAL' ne 'INTERVAL' then do;
12232  if CATEGORY=EVENTLEVEL AND STATNAME="PROBABILITY";
12233  end;
12234  else do;
12235  if STATNAME="PREDICTION";
12236  end;
12237  run;

NOTE: There were 91 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 13 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12238  data tempcolor;
12239  set tempcolor;
12240  length nodecolor 8;
12241  if 'NOMINAL' ne 'INTERVAL' then do;
12242  nodecolor = round(100*(STATVALUE), .01);
12243  end;
12244  else do;
12245  nodecolor=round(statvalue, .01);
12246  end;
12247  keep node nodecolor;
12248  run;

NOTE: There were 13 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 13 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12249  proc sort data=EMWS1.Clus_TREE_PLOT;
12250  by node;
12251  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_TREE_PLOT.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12252  proc sort data=tempcolor;
12253  by node;
12254  run;

NOTE: There were 13 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 13 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12255  data EMWS1.Clus_TREE_PLOT;
12256  merge EMWS1.Clus_TREE_PLOT tempcolor;
12257  by node;
12258  length traintotal 8;
12259  retain traintotal;
12260  label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
12261  if node=1 then do;
12262  traintotal = N;
12263  end;
12264  if NODE eq . then delete;
12265  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_TREE_PLOT.
NOTE: There were 13 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12266  data EMWS1.Clus_TREE_PLOT;
12267  set EMWS1.Clus_TREE_PLOT;
12268  textall = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodeId_vlabel, noquote, )):"|| put(Node, 13.)||'0A'x||trim(textall);
12269  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_TREE_PLOT.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12270  data tempout;
12271  set WORK.Clus_outnodes;
12272  run;

NOTE: There were 13 observations read from the data set WORK.CLUS_OUTNODES.
NOTE: The data set WORK.TEMPOUT has 13 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12273  proc sort data=tempout;
12274  by descending P__SEGMENT_5;
12275  run;

NOTE: There were 13 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TEMPOUT has 13 observations and 29 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12276  data tree_temp;
12277  set tempout;
12278  if LEAF ne .;
12279  label index="%sysfunc(sasmsg(sashelp.dmine, rpt_leafindex_vlabel  , NOQUOTE))";
12280  label percevent_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_perc_train_vlabel  , NOQUOTE))";
12281  label perc_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_percevent_train_vlabel  , NOQUOTE))";
12282  label tprob="%sysfunc(sasmsg(sashelp.dmine, rpt_prob_vlabel  , NOQUOTE, %nrbquote()))";
12283  tprob = round(P__SEGMENT_5, .01);
12284  percevent_train = round ( tprob*100, .01);
12285  *perc_train =round( ( N / traintotal)*100, .001);
12286  perc_train =round( ( N / traintotal), .01);
12287  if missing(perc_train) then perc_train = round( linkwidth*100, .001);
12288  index = _n_;
12289  keep NODE index tprob perc_train percevent_train
12290  ;
12291  run;

NOTE: There were 13 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TREE_TEMP has 7 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12292  proc sort data=tree_temp;
12293  by NODE;
12294  run;

NOTE: There were 7 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set WORK.TREE_TEMP has 7 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12295  proc sort data=EMWS1.Clus_TREE_PLOT;
12296  by NODE;
12297  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_TREE_PLOT.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12298  data EMWS1.Clus_TREE_PLOT;
12299  merge EMWS1.Clus_TREE_PLOT tree_temp;
12300  by NODE;
12301  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_TREE_PLOT.
NOTE: There were 7 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12302  proc sort data=EMWS1.Clus_TREE_PLOT;
12303  by node index;
12304  run;

NOTE: There were 13 observations read from the data set EMWS1.CLUS_TREE_PLOT.
NOTE: The data set EMWS1.CLUS_TREE_PLOT has 13 observations and 17 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12305  title9 ' ';
12306  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_VariableImportance_title, NOQUOTE))";
12307  proc print data=EMWS1.Clus_OUTIMPORT(where=(IMPORTANCE>0)) noobs label;
12308  run;

NOTE: There were 2 observations read from the data set EMWS1.CLUS_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12309  title10;

12310  data WORK.M2PDR7SP;
12311  set WORK.M2PDR7SP;
12312  if role eq 'REJECTED' then role = 'INPUT';
12313  run;

NOTE: There were 10 observations read from the data set WORK.M2PDR7SP.
NOTE: The data set WORK.M2PDR7SP has 10 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12314  proc sort data=EMWS1.Clus_OUTIMPORT out=WORK.Clus_GRAPHVARS(keep=NAME);
12315  where IMPORTANCE>0;
12316  by NAME;
12317  run;

NOTE: There were 2 observations read from the data set EMWS1.CLUS_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The data set WORK.CLUS_GRAPHVARS has 2 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12318  proc sort data = WORK.M2PDR7SP;
12319  by NAME;
12320  run;

NOTE: There were 10 observations read from the data set WORK.M2PDR7SP.
NOTE: The data set WORK.M2PDR7SP has 10 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12321  data WORK.M2PDR7SP;
12322  merge WORK.M2PDR7SP WORK.Clus_GRAPHVARS(in=_b_);
12323  by NAME;
12324  if _b_ or ROLE = "FREQ" or REPORT="Y" then output;
12325  run;

NOTE: There were 10 observations read from the data set WORK.M2PDR7SP.
NOTE: There were 2 observations read from the data set WORK.CLUS_GRAPHVARS.
NOTE: The data set WORK.M2PDR7SP has 2 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12326  data WORK.M2PDR7SP;
12327  set WORK.M2PDR7SP end=_eof_ nobs=_nobs_;
12328  output;
12329  if _eof_ then do;
12330  name = '_SEGMENT_';
12331  ROLE = 'BY';
12332  LEVEL = 'NOMINAL';
12333  LABEL = 'Segment Variable';
12334  TYPE = 'N';
12335  FORMAT = '';
12336  INFORMAT = '';
12337  output;
12338  end;
12339  run;

NOTE: There were 2 observations read from the data set WORK.M2PDR7SP.
NOTE: The data set WORK.M2PDR7SP has 3 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12340  *------------------------------------------------------------* ;
12341  * Clus: STDIZE Variables Macro ;
12342  *------------------------------------------------------------* ;
12343  %macro stdizevar;
12344      Number_of_Contacts
12345  %mend stdizevar;
12346  *------------------------------------------------------------*;
12347  * Clus: Computing Summary Statistics;
12348  *------------------------------------------------------------*;
12349  proc stdize
12350  data = EMWS1.Clus_TRAIN
12351  out=_null_
12352  outstat=WORK.Clus_STAT
12353  add=0 fuzz=1E-14 initial=MAD
12354  vardef=df
12355  method=STD
12356  mult=1
12357  pctlmtd=ORD_STAT pctldef=2
12358  pctlpts=(
12359  0
12360  100
12361  )
12362  ;
12363  var %stdizevar;
12364  run;

NOTE: INITIAL= will be ignored.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT2_DATA.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT2_TRAIN.
NOTE: View EMWS1.CLUS_TRAIN.VIEW used (Total process time):
      real time           0.19 seconds
      cpu time            0.18 seconds
      
NOTE: There were 33987 observations read from the data set EMWS1.FILTER4_TRAIN.
NOTE: There were 33987 observations read from the data set EMWS1.CLUS_TRAIN.
NOTE: The data set WORK.CLUS_STAT has 10 observations and 2 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.21 seconds
      cpu time            0.20 seconds
      

12365  quit;

12366  data WORK.Clus_MINMAX;
12367  set WORK.Clus_STAT;
12368  where _TYPE_ in('P0','P100');
12369  if _TYPE_='P0' then _TYPE_='MIN';
12370  else if _TYPE_='P100' then _TYPE_='MAX';
12371  run;

NOTE: There were 2 observations read from the data set WORK.CLUS_STAT.
      WHERE _TYPE_ in ('P0', 'P100');
NOTE: The data set WORK.CLUS_MINMAX has 2 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12372  proc transpose data=WORK.Clus_MINMAX out=WORK.Clus_MINMAX(drop=_LABEL_ rename=(_NAME_=_VARIABLE_));
12373  id _TYPE_;
12374  run;

WARNING: The variable _LABEL_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 2 observations read from the data set WORK.CLUS_MINMAX.
NOTE: The data set WORK.CLUS_MINMAX has 1 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12375  data WORK.Clus_UGRID;
12376  set WORK.Clus_MINMAX;
12377  B1 = MIN + (1-1)*(MAX-MIN)/8;
12378  B2 = MIN + (2-1)*(MAX-MIN)/8;
12379  B3 = MIN + (3-1)*(MAX-MIN)/8;
12380  B4 = MIN + (4-1)*(MAX-MIN)/8;
12381  B5 = MIN + (5-1)*(MAX-MIN)/8;
12382  B6 = MIN + (6-1)*(MAX-MIN)/8;
12383  B7 = MIN + (7-1)*(MAX-MIN)/8;
12384  B8 = MIN + (8-1)*(MAX-MIN)/8;
12385  B9 = MIN + (9-1)*(MAX-MIN)/8;
12386  drop MIN MAX;
12387  run;

NOTE: There were 1 observations read from the data set WORK.CLUS_MINMAX.
NOTE: The data set WORK.CLUS_UGRID has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12388  *------------------------------------------------------------*;
12389  * Clus: Creating formats for binning interval variables;
12390  *------------------------------------------------------------*;
12391  proc format;
12392  value F1_
12393  1-6.25 = "1:6.25"
12394  6.25-11.5 = "6.25:11.5"
12395  11.5-16.75 = "11.5:16.75"
12396  16.75-22 = "16.75:22"
12397  22-27.25 = "22:27.25"
12398  27.25-32.5 = "27.25:32.5"
12399  32.5-37.75 = "32.5:37.75"
12400  37.75-43 = "37.75:43"
12401  ;
NOTE: Format F1_ has been output.
12402  run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12403  ods listing close;
12404  ods output crosstabfreqs=WORK.TEMPFREQ;
12405  proc freq data = EMWS1.Clus_TRAIN order=formatted addnames;
12406  table Contact_Type * _SEGMENT_ / missing;
12407  table Number_of_Contacts * _SEGMENT_ / missing;
12408  format NUMBER_OF_CONTACTS F1_.;
12409  run;

NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT2_DATA.
NOTE: There were 38245 observations read from the data set EMWS1.FIMPORT2_TRAIN.
NOTE: View EMWS1.CLUS_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      
NOTE: There were 33987 observations read from the data set EMWS1.FILTER4_TRAIN.
NOTE: The data set WORK.TEMPFREQ has 72 observations and 13 variables.
NOTE: There were 33987 observations read from the data set EMWS1.CLUS_TRAIN.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.16 seconds
      cpu time            0.15 seconds
      

12410  quit;
12411  ods listing;
12412  data EMWS1.Clus_PROFILE(keep=_VARIABLE_ _SEGMENT_ TYPE COUNT PERCENT _X_ _XLABEL_);
12413  label _VARIABLE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" _SEGMENT_ = "Segment Variable" Type = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,         NOQUOTE))" _X_ =
12414     "%sysfunc(sasmsg(sashelp.dmine, rpt_numValue_vlabel, NOQUOTE))" _XLABEL_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_fmtValue_vlabel ,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,        NOQUOTE))" PERCENT =
12415     "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,      NOQUOTE))";
12416  dsid = open("WORK.TEMPFREQ");
12417  varnum = varnum(dsid, 'ROWVARIABLE');
12418  freqnum = varnum(dsid, 'FREQUENCY');
12419  pvarnum = varnum(dsid, 'PERCENT');
12420  typenum = varnum(dsid, '_TYPE_');
12421  bynum = varnum(dsid, "_SEGMENT_");
12422  length varformat _VARIABLE_ $32 _XLABEL_ $32 TYPE $1;
12423  do while(^fetch(dsid));
12424  count = getvarn(dsid, freqnum);
12425  percent = getvarn(dsid, pvarnum);
12426  _VARIABLE_ = strip(getvarc(dsid, varnum));
12427  varblnum = varnum(dsid, _VARIABLE_);
12428  _SEGMENT_ = getvarn(dsid, bynum);
12429  type = vartype(dsid, varblnum);
12430  varformat = varfmt(dsid, varblnum);
12431  if varformat eq '' then varformat = 'best12.';
12432  _X_=.;
12433  if type = 'N' then do;
12434  _X_ = getvarn(dsid, varblnum);
12435  _XLABEL_ = left(putn(_X_, varformat));
12436  end;
12437  else _XLABEL_ = getvarc(dsid, varblnum);
12438  if getvarc(dsid, typenum) = '11' then output;
12439  end;
12440  dsid = close(dsid);
12441  run;

NOTE: The data set EMWS1.CLUS_PROFILE has 50 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12442  proc sort data=EMWS1.Clus_PROFILE NOTHREADS;
12443  by _VARIABLE_ _SEGMENT_;
12444  run;

NOTE: There were 50 observations read from the data set EMWS1.CLUS_PROFILE.
NOTE: The data set EMWS1.CLUS_PROFILE has 50 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12445  proc means data=EMWS1.Clus_PROFILE noprint missing NWAY;
12446  class _VARIABLE_ _SEGMENT_;
12447  var COUNT;
12448  output out=WORK.Clus_STATCOUNT(keep=_SEGMENT_ _VARIABLE_ SUM) SUM=SUM;
12449  run;

NOTE: There were 50 observations read from the data set EMWS1.CLUS_PROFILE.
NOTE: The data set WORK.CLUS_STATCOUNT has 10 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12450  proc sort data=WORK.Clus_STATCOUNT NOTHREADS;
12451  by _VARIABLE_ _SEGMENT_;
12452  run;

NOTE: There were 10 observations read from the data set WORK.CLUS_STATCOUNT.
NOTE: The data set WORK.CLUS_STATCOUNT has 10 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12453  data EMWS1.Clus_PROFILE(drop=SUM);
12454  label BYPERCENT= "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel, NOQUOTE, _SEGMENT_))";
12455  merge EMWS1.Clus_PROFILE WORK.Clus_STATCOUNT;
12456  by _VARIABLE_ _SEGMENT_;
12457  if SUM ne . then BYPERCENT = 100*COUNT/SUM;
12458  run;

NOTE: There were 50 observations read from the data set EMWS1.CLUS_PROFILE.
NOTE: There were 10 observations read from the data set WORK.CLUS_STATCOUNT.
NOTE: The data set EMWS1.CLUS_PROFILE has 50 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12459  proc sort data=EMWS1.Clus_PROFILE NOTHREADS;
12460  by _VARIABLE_;
12461  run;

NOTE: There were 50 observations read from the data set EMWS1.CLUS_PROFILE.
NOTE: The data set EMWS1.CLUS_PROFILE has 50 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12462  proc sort data=WORK.M2PDR7SP;
12463  by Name;
12464  run;

NOTE: There were 3 observations read from the data set WORK.M2PDR7SP.
NOTE: The data set WORK.M2PDR7SP has 3 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12465  data EMWS1.Clus_PROFILE;
12466  merge EMWS1.Clus_PROFILE(in=_a) WORK.M2PDR7SP(keep=Name Label Role rename=(Name=_Variable_ Label=_Label_));
12467  by _Variable_;
12468  label Role = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel ,  NOQUOTE))";
12469  label Label = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel , NOQUOTE))";
12470  if _a then output;
12471  run;

NOTE: Variable Label is uninitialized.
WARNING: Multiple lengths were specified for the BY variable _VARIABLE_ by input data sets. This might cause unexpected results.
NOTE: There were 50 observations read from the data set EMWS1.CLUS_PROFILE.
NOTE: There were 3 observations read from the data set WORK.M2PDR7SP.
NOTE: The data set EMWS1.CLUS_PROFILE has 50 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12472  proc sort data=EMWS1.Clus_PROFILE;
12473  by _SEGMENT_ _VARIABLE_ _X_;
12474  run;

NOTE: There were 50 observations read from the data set EMWS1.CLUS_PROFILE.
NOTE: The data set EMWS1.CLUS_PROFILE has 50 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12475  data EMWS1.Clus_PROFILE(rename=(_VARIABLE_=Variable _X_=NumericValue _XLABEL_=FmtValue));
12476  set EMWS1.Clus_PROFILE;
12477  retain orderedValue 0;
12478  label OrderedValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_OrderedValue_vlabel, NOQUOTE))";
12479  by _SEGMENT_ _VARIABLE_;
12480  if first._variable_ then orderedValue=1;
12481  else orderedValue+1;
12482  run;

NOTE: There were 50 observations read from the data set EMWS1.CLUS_PROFILE.
NOTE: The data set EMWS1.CLUS_PROFILE has 50 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12483  proc transpose data=EMWS1.Clus_OUTVAR out=WORK.Clus_OUTVAR(where=(COL1 ^in('IMPUTED','OMITTED')));
12484  var Number_of_Contacts--Personal_Loanyes;
12485  where _TYPE_ in('TYPE' 'VARIABLE');
12486  run;

NOTE: There were 2 observations read from the data set EMWS1.CLUS_OUTVAR.
      WHERE _TYPE_ in ('TYPE', 'VARIABLE');
NOTE: The data set WORK.CLUS_OUTVAR has 7 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12487  *------------------------------------------------------------* ;
12488  * Clus: DMVQ Variables;
12489  *------------------------------------------------------------* ;
12490  %macro dmvqvars;
12491      Number_of_Contacts Contact_Typecellular Contact_Typetelephone Mortageno
12492     Mortageyes Personal_Loanno Personal_Loanyes
12493  %mend ;
12494  
12495  

12496  data WORK.Clus_temp;
12497  set EMWS1.Clus_OUTMEAN;
12498  _idvar_=left(put(_SEGMENT_,4.));
12499  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS_OUTMEAN.
NOTE: The data set WORK.CLUS_TEMP has 5 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12500  proc distance data=WORK.Clus_temp out=EMWS1.Clus_DISTANCE method=l(2) shape=square;
12501  id _idvar_;
12502  var interval(%dmvqvars);
12503  run;

NOTE: The data set EMWS1.CLUS_DISTANCE has 5 observations and 6 variables.
NOTE: PROCEDURE DISTANCE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12504  proc mds data=EMWS1.Clus_DISTANCE out=WORK.Clus_mds level=absolute nohist shape=square dim=3;
12505  object _idvar_;
12506  run;

NOTE: Convergence reached in 8 iterations.
NOTE: The data set WORK.CLUS_MDS has 6 observations and 8 variables.
NOTE: PROCEDURE MDS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12507  quit;
12508  data WORK.Clus_mds;
12509  set WORK.Clus_mds;
12510  if _type_ ne 'CONFIG' then delete;
12511  run;

NOTE: There were 6 observations read from the data set WORK.CLUS_MDS.
NOTE: The data set WORK.CLUS_MDS has 5 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12512  data WORK.Clus_mds(label="&label" keep=_idvar_ _radius_ dim1 dim2 dim3);
WARNING: Apparent symbolic reference LABEL not resolved.
12513  merge WORK.Clus_temp WORK.Clus_mds;
12514  run;

NOTE: There were 5 observations read from the data set WORK.CLUS_TEMP.
NOTE: There were 5 observations read from the data set WORK.CLUS_MDS.
NOTE: The data set WORK.CLUS_MDS has 5 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12515  options nodate;
12516  title1 "%sysfunc(sasmsg(sashelp.dmine, rpt_ClusterDistance_title, NOQUOTE))";
12517  %plotit(data=WORK.Clus_mds, datatype=mds, radii=_radius_, labelvar=_idvar_, symtype=circle, symbols='*', gout=WORK.Clus, gname=DISTANCE, gopts2=nodisplay, gopts=device=GIF, gopplot=cback=white, titlecol=black, labelcol=black, tickcol=black,
12518     framecol=black, post=C:\Users\20161277\AppData\Local\Temp\72\SAS Temporary Files\_TD9024_BA-TEACHING_\plotit.ps);

                                                                                                                    Types Legend  | CONFIG
                                                                                                                    --------------+---------
                                                                                                                    Symbol Types  | circle
                                                                                                                    Symbols       | *
                                                                                                                    Symbol Colors | cx000000
                                                                                                                    Label  Colors | cx000000
                                                                                                                    Symbol Sizes  | 1
                                                                                                                    Label  Sizes  | 1
                                                                                                                    Symbol Fonts  | none
                                                                                                                    Label  Fonts  | none
                                                                                                                    ------------------------

                                                                                                         Iterative Scatter Plot of Labeled Points Macro

                                                                                                    Iteration    Place    Line Size    Page Size    Penalty
                                                                                                    -------------------------------------------------------
                                                                                                        1          2         65           45            0

The following code will create the printer plot on which the graphical plot is based:

options nonumber ls=65 ps=45;
proc plot nolegend formchar='|----|+|---' data=preproc vtoh=2;
   plot Dim2 * Dim1 $ _idvar_ = _symbol_ /
        haxis=by 10 vaxis=by 10 box list=1
        placement=((h=2 -2 : s=right left) (v=1 -1 * h=0 -1 to -5 by alt));
   label Dim2 = 'Dimension 2' Dim1 = 'Dimension 1';
   label Dim2 = '#' Dim1 = '#';
   run; quit;

The plot was created with the following goptions:

goptions nodisplay hpos=74 vpos=28 hsize=8.33in vsize=6.24in cback=white device=GIF;

The OUT=anno Annotate data set has 240 observations.
The PLOTIT macro used 0.7 seconds to create OUT=anno.
12519  goptions display;
12520  title;

12521  filename gsasfile "C:\Users\20161277\Documents\CA assign 2
12521! data\20161277_CAassignment2\Workspaces\EMWS1\Clus\GRAPH\Distance.gif";
12522  goptions reset=all device=PNG display gaccess= gsasfile gsfmode= replace cback= white;
12523  proc greplay igout=WORK.Clus nofs;
NOTE: Building list of graphs from the catalog.

NOTE: Enter greplay commands or statements.
12524  replay DISTANCE;
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this 
      session.
NOTE: 22938 bytes written to C:\Users\20161277\Documents\CA assign 2 
      data\20161277_CAassignment2\Workspaces\EMWS1\Clus\GRAPH\Distance.gif.
12525  quit;

NOTE: PROCEDURE GREPLAY used (Total process time):
      real time           0.11 seconds
      cpu time            0.12 seconds
      

12526  goptions reset=all;
12527  filename gsasfile;
NOTE: Fileref GSASFILE has been deassigned.

12528  proc datasets lib=EMWS1 nolist;
12529  modify Clus_DISTANCE;
12530  rename _idvar_=_SEGMENT_;
NOTE: Renaming variable _idvar_ to _SEGMENT_.
12531  run;

NOTE: MODIFY was successful for EMWS1.CLUS_DISTANCE.DATA.
12532  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12533  *------------------------------------------------------------*;
12534  * Clus: Creating data set for Input Mean report;
12535  *------------------------------------------------------------*;
12536  data temp(drop=_type_ over_all);
12537  set EMWS1.Clus_OUTSTAT;
12538  where _type_ in('DMDB_MEAN', 'CLUS_MEAN');
12539  run;

NOTE: There were 6 observations read from the data set EMWS1.CLUS_OUTSTAT.
      WHERE _type_ in ('CLUS_MEAN', 'DMDB_MEAN');
NOTE: The data set WORK.TEMP has 6 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12540  proc sort data=temp;
12541  by _SEGMENT_;
12542  run;

NOTE: There were 6 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 6 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12543  proc stdize data=temp out=stdtemp pctlpts=0 100 outstat=stat;
12544  var Number_of_Contacts--Personal_Loanyes;
12545  run;

NOTE: There were 6 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.STDTEMP has 6 observations and 8 variables.
NOTE: The data set WORK.STAT has 10 observations and 8 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12546  proc transpose data=stat out=tstat(rename=(COL1=MEAN COL2=STD COL3=MIN COL4=MAX));
12547  where _type_ in ('LOCATION', 'SCALE','P0', 'P100');
12548  run;

NOTE: There were 4 observations read from the data set WORK.STAT.
      WHERE _type_ in ('LOCATION', 'P0', 'P100', 'SCALE');
NOTE: The data set WORK.TSTAT has 7 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12549  data tstat( rename=(_NAME_=NAME) keep=_NAME_ cv stdmin stdmax);
12550  set tstat;
12551  if std ^in (0, .) then do;
12552  stdmin = abs((min-mean)/std);
12553  stdmax = abs((max-mean)/std);
12554  end;
12555  if mean ^in(0, .) then cv = std/mean;
12556  run;

NOTE: There were 7 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 7 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12557  proc sort data=tstat;
12558  by NAME;
12559  run;

NOTE: There were 7 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 7 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12560  proc transpose data=stdtemp out=tstdtemp(rename=(_NAME_=NAME _LABEL_=LABEL COL1=MEAN));
12561  by _SEGMENT_;
12562  run;

NOTE: There were 6 observations read from the data set WORK.STDTEMP.
NOTE: The data set WORK.TSTDTEMP has 42 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12563  proc sort data=tstdtemp;
12564  by NAME;
12565  run;

NOTE: There were 42 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set WORK.TSTDTEMP has 42 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12566  data tstdtemp;
12567  merge tstdtemp tstat;
12568  by NAME;
12569  STDMEAN = (MEAN + stdmin)/(stdmin + stdmax);
12570  drop stdmin stdmax mean;
12571  run;

NOTE: There were 42 observations read from the data set WORK.TSTDTEMP.
NOTE: There were 7 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTDTEMP has 42 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12572  proc transpose data=EMWS1.Clus_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME
12572! VARIABLE=INPUT));
12573  var Number_of_Contacts--Personal_Loanyes;
12574  id _type_;
12575  where _type_ = 'VARIABLE';
12576  run;

NOTE: There were 1 observations read from the data set EMWS1.CLUS_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 7 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12577  proc sort data=tempVar;
12578  by NAME;
12579  run;

NOTE: There were 7 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12580  data EMWS1.Clus_INPUTMEAN(rename=(NAME=VARIABLE));
12581  Length _SEGMENT_CHAR_ $7;
12582  label _SEGMENT_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentName_vlabel,  NOQUOTE))"
12582! _SEGMENT_CHAR_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentId_vlabel,    NOQUOTE))" NAME =
12582! "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,     NOQUOTE))" INPUT =
12583     "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,        NOQUOTE))" LABEL =
12583! "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel,        NOQUOTE))" CV =
12583! "%sysfunc(sasmsg(sashelp.dmine, rpt_cv_vlabel,           NOQUOTE))" STDMEAN =
12584     "%sysfunc(sasmsg(sashelp.dmine, rpt_normmean_vlabel,     NOQUOTE))";
12585  merge tempvar tstdtemp;
12586  by NAME;
12587  if LABEL='' then LABEL=NAME;
12588  _SEGMENT_CHAR_ = strip(put(_SEGMENT_, best.));
12589  if _SEGMENT_ = . then _SEGMENT_CHAR_='Overall';
12590  run;

NOTE: There were 7 observations read from the data set WORK.TEMPVAR.
NOTE: There were 42 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set EMWS1.CLUS_INPUTMEAN has 42 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12591  proc sort data=EMWS1.Clus_INPUTMEAN;
12592  by descending cv;
12593  run;

NOTE: There were 42 observations read from the data set EMWS1.CLUS_INPUTMEAN.
NOTE: The data set EMWS1.CLUS_INPUTMEAN has 42 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12594  *------------------------------------------------------------*;
12595  * Clus: Determining the important variables;
12596  *------------------------------------------------------------*;

12597  %let _nobs = 0;
12598  data keepvars(rename=(NAME=INPUT));
12599  set EMWS1.Clus_OUTIMPORT(where=(IMPORTANCE>0.5)) end=eof;
12600  if eof then call symput('_nobs', strip(put(_N_, best.)));
12601  run;

NOTE: There were 2 observations read from the data set EMWS1.CLUS_OUTIMPORT.
      WHERE IMPORTANCE>0.5;
NOTE: The data set WORK.KEEPVARS has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12602  proc transpose data=EMWS1.Clus_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME
12602! VARIABLE=INPUT));
12603  var Number_of_Contacts--Personal_Loanyes;
12604  id _type_;
12605  where _type_ = 'VARIABLE';
12606  run;

NOTE: There were 1 observations read from the data set EMWS1.CLUS_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 7 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12607  proc sort data=keepvars;
12608  by INPUT;
12609  run;

NOTE: There were 2 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.KEEPVARS has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12610  proc sort data=tempvar;
12611  by INPUT;
12612  run;

NOTE: There were 7 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12613  data vars;
12614  merge tempvar keepvars(in=b);
12615  by INPUT;
12616  if b then output;
12617  run;

WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This might 
         cause unexpected results.
NOTE: There were 7 observations read from the data set WORK.TEMPVAR.
NOTE: There were 2 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.VARS has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12618  proc sort data=vars;
12619  by descending importance;
12620  run;

NOTE: There were 3 observations read from the data set WORK.VARS.
NOTE: The data set WORK.VARS has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12621  data _null_;
12622  set vars;
12623  if _N_=1 then call symput('CLUS_PROFVARS', strip(NAME));
12624  else call symput('CLUS_PROFVARS',symget('CLUS_PROFVARS')!!' '!!strip(NAME));
12625  run;

NOTE: There were 3 observations read from the data set WORK.VARS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12626  *------------------------------------------------------------*;
12627  * mergeVarMeansandClusLabel;
12628  *------------------------------------------------------------*;
12629  data temp(keep=_SEGMENT_ &CLUS_PROFVARS);
12630  length _SEGMENT_ &CLUS_PROFVARS 8;
12631  set EMWS1.Clus_OUTSTAT;
12632  where _type_ ='CLUS_MEAN';
12633  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS_OUTSTAT.
      WHERE _type_='CLUS_MEAN';
NOTE: The data set WORK.TEMP has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12634  proc sort data=temp;
12635  by _SEGMENT_;
12636  run;

NOTE: There were 5 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12637  data EMWS1.Clus_LABEL;
12638  merge EMWS1.Clus_LABEL(keep=_SEGMENT_ LABEL) temp;
12639  by _SEGMENT_;
12640  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS_LABEL.
NOTE: There were 5 observations read from the data set WORK.TEMP.
NOTE: The data set EMWS1.CLUS_LABEL has 5 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

